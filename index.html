
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Defexa API Documentation</title>

    <link href="images/favicon-4ae6ec2c.ico" rel="icon" type="image/ico" />
    
    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-0fcbe783.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-99ad7ba2.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-75b0f71b.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <header>
      <svg class="logo" width="118" height="32" viewBox="0 0 180 49" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M 4.828125 2.546875 C 4.828125 3.769531 4.785156 4.265625 4.65625 4.308594 C 4.515625 4.367188 4.53125 4.421875 4.6875 4.539062 C 4.871094 4.679688 4.871094 4.707031 4.6875 4.851562 C 4.53125 4.964844 4.515625 5.019531 4.65625 5.078125 C 4.742188 5.105469 4.828125 5.261719 4.828125 5.40625 C 4.828125 5.546875 4.742188 5.703125 4.65625 5.746094 C 4.515625 5.816406 4.515625 5.847656 4.65625 5.917969 C 4.855469 6.015625 4.882812 6.542969 4.6875 6.542969 C 4.601562 6.542969 4.542969 7.679688 4.542969 9.671875 C 4.542969 11.394531 4.570312 12.800781 4.613281 12.800781 C 4.65625 12.800781 5.523438 11.960938 6.53125 10.953125 L 8.378906 9.101562 L 12 12.730469 C 13.984375 14.722656 15.617188 16.414062 15.617188 16.5 C 15.617188 16.585938 13.984375 18.277344 12 20.269531 L 8.378906 23.898438 L 6.53125 22.046875 C 5.523438 21.039062 4.65625 20.199219 4.613281 20.199219 C 4.570312 20.199219 4.542969 23.015625 4.542969 26.457031 C 4.542969 29.898438 4.585938 32.714844 4.628906 32.714844 C 4.671875 32.714844 4.957031 32.460938 5.253906 32.148438 C 5.550781 31.832031 5.863281 31.578125 5.949219 31.578125 C 6.035156 31.578125 7.765625 29.914062 9.796875 27.878906 C 11.828125 25.84375 13.546875 24.179688 13.632812 24.179688 C 13.816406 24.179688 21.296875 16.683594 21.296875 16.5 C 21.296875 16.316406 16.9375 11.949219 16.753906 11.949219 C 16.667969 11.949219 15.136719 10.46875 13.347656 8.675781 C 11.558594 6.871094 10.023438 5.40625 9.9375 5.40625 C 9.855469 5.40625 8.886719 4.496094 7.796875 3.398438 C 6.320312 1.921875 5.765625 1.4375 5.664062 1.578125 C 5.609375 1.679688 5.507812 1.722656 5.4375 1.664062 C 5.382812 1.59375 5.425781 1.492188 5.523438 1.421875 C 5.695312 1.324219 5.695312 1.265625 5.496094 1.082031 C 5.382812 0.953125 5.167969 0.851562 5.054688 0.851562 C 4.855469 0.851562 4.828125 1.09375 4.828125 2.546875 Z M 4.828125 2.546875" fill="black" />
      <path d="M 71.847656 4.976562 C 71.847656 5.050781 71.535156 5.121094 71.136719 5.121094 C 70.753906 5.121094 70.425781 5.175781 70.425781 5.261719 C 70.425781 5.335938 70.300781 5.40625 70.144531 5.40625 C 69.988281 5.40625 69.859375 5.460938 69.859375 5.546875 C 69.859375 5.617188 69.761719 5.691406 69.644531 5.691406 C 69.363281 5.691406 67.871094 7.183594 67.871094 7.46875 C 67.871094 7.582031 67.816406 7.679688 67.730469 7.679688 C 67.660156 7.679688 67.585938 7.9375 67.585938 8.25 C 67.585938 8.5625 67.53125 8.820312 67.445312 8.820312 C 67.359375 8.820312 67.304688 9.34375 67.304688 10.097656 L 67.304688 11.378906 L 65.03125 11.378906 L 65.03125 14.222656 L 67.304688 14.222656 L 67.304688 26.171875 L 69.09375 26.171875 C 70.441406 26.171875 70.925781 26.128906 71.082031 25.972656 C 71.25 25.800781 71.277344 24.808594 71.277344 20 L 71.277344 14.222656 L 74.117188 14.222656 L 74.117188 11.378906 L 71.277344 11.378906 L 71.277344 10.242188 C 71.277344 9.574219 71.335938 9.101562 71.421875 9.101562 C 71.507812 9.101562 71.5625 8.976562 71.5625 8.820312 C 71.5625 8.632812 71.664062 8.535156 71.847656 8.535156 C 72.003906 8.535156 72.132812 8.464844 72.132812 8.390625 C 72.132812 8.308594 72.601562 8.25 73.265625 8.25 L 74.402344 8.25 L 74.402344 6.984375 C 74.402344 6.101562 74.460938 5.691406 74.574219 5.660156 C 74.929688 5.53125 74.289062 5.121094 73.777344 5.121094 C 73.496094 5.121094 73.265625 5.050781 73.265625 4.976562 C 73.265625 4.894531 72.953125 4.835938 72.558594 4.835938 C 72.171875 4.835938 71.847656 4.894531 71.847656 4.976562 Z M 71.847656 4.976562" fill="black" />
      <path d="M 33.976562 6.472656 C 33.835938 6.628906 33.792969 8.789062 33.792969 16.214844 C 33.792969 24.308594 33.820312 25.800781 33.992188 25.972656 C 34.164062 26.128906 34.800781 26.171875 37.257812 26.171875 C 39.203125 26.171875 40.324219 26.117188 40.324219 26.03125 C 40.324219 25.945312 40.75 25.886719 41.320312 25.886719 C 41.886719 25.886719 42.3125 25.832031 42.3125 25.746094 C 42.3125 25.660156 42.511719 25.601562 42.738281 25.601562 C 42.980469 25.601562 43.164062 25.53125 43.164062 25.460938 C 43.164062 25.375 43.363281 25.320312 43.589844 25.320312 C 43.832031 25.320312 44.015625 25.246094 44.015625 25.175781 C 44.015625 25.089844 44.128906 25.035156 44.273438 25.035156 C 44.414062 25.035156 44.613281 24.90625 44.726562 24.75 C 44.839844 24.59375 45.011719 24.464844 45.109375 24.464844 C 45.378906 24.464844 47.140625 22.671875 47.140625 22.402344 C 47.140625 22.289062 47.210938 22.191406 47.28125 22.191406 C 47.367188 22.191406 47.425781 22.0625 47.425781 21.90625 C 47.425781 21.75 47.496094 21.621094 47.566406 21.621094 C 47.652344 21.621094 47.707031 21.492188 47.707031 21.335938 C 47.707031 21.179688 47.78125 21.050781 47.851562 21.050781 C 47.9375 21.050781 47.992188 20.921875 47.992188 20.765625 C 47.992188 20.609375 48.0625 20.484375 48.132812 20.484375 C 48.21875 20.484375 48.277344 20.285156 48.277344 20.054688 C 48.277344 19.8125 48.347656 19.628906 48.417969 19.628906 C 48.503906 19.628906 48.5625 19.300781 48.5625 18.917969 C 48.5625 18.519531 48.632812 18.207031 48.703125 18.207031 C 48.789062 18.207031 48.84375 17.453125 48.84375 16.214844 C 48.84375 14.976562 48.789062 14.222656 48.703125 14.222656 C 48.632812 14.222656 48.5625 13.898438 48.5625 13.511719 C 48.5625 13.113281 48.503906 12.800781 48.417969 12.800781 C 48.347656 12.800781 48.277344 12.601562 48.277344 12.375 C 48.277344 12.132812 48.21875 11.949219 48.132812 11.949219 C 48.0625 11.949219 47.992188 11.75 47.992188 11.523438 C 47.992188 11.28125 47.9375 11.09375 47.851562 11.09375 C 47.78125 11.09375 47.707031 10.980469 47.707031 10.839844 C 47.707031 10.695312 47.582031 10.496094 47.425781 10.382812 C 47.269531 10.269531 47.140625 10.097656 47.140625 10 C 47.140625 9.730469 45.066406 7.679688 44.796875 7.679688 C 44.683594 7.679688 44.585938 7.609375 44.585938 7.539062 C 44.585938 7.453125 44.457031 7.398438 44.300781 7.398438 C 44.144531 7.398438 44.015625 7.324219 44.015625 7.253906 C 44.015625 7.167969 43.890625 7.113281 43.734375 7.113281 C 43.578125 7.113281 43.449219 7.039062 43.449219 6.96875 C 43.449219 6.882812 43.265625 6.828125 43.023438 6.828125 C 42.796875 6.828125 42.597656 6.757812 42.597656 6.683594 C 42.597656 6.601562 42.339844 6.542969 42.027344 6.542969 C 41.714844 6.542969 41.460938 6.472656 41.460938 6.402344 C 41.460938 6.316406 40.15625 6.257812 37.8125 6.257812 C 34.832031 6.273438 34.121094 6.300781 33.976562 6.472656 Z M 41.460938 9.816406 C 41.460938 9.886719 41.644531 9.957031 41.859375 9.957031 C 42.085938 9.957031 42.339844 10.070312 42.457031 10.242188 C 42.570312 10.398438 42.738281 10.527344 42.851562 10.527344 C 43.09375 10.527344 43.449219 10.882812 43.449219 11.125 C 43.449219 11.238281 43.578125 11.40625 43.734375 11.523438 C 43.890625 11.636719 44.015625 11.835938 44.015625 11.976562 C 44.015625 12.117188 44.089844 12.234375 44.160156 12.234375 C 44.246094 12.234375 44.300781 12.417969 44.300781 12.660156 C 44.300781 12.886719 44.371094 13.085938 44.441406 13.085938 C 44.527344 13.085938 44.585938 13.613281 44.585938 14.367188 C 44.585938 15.121094 44.640625 15.648438 44.726562 15.648438 C 44.8125 15.648438 44.867188 15.902344 44.867188 16.214844 C 44.867188 16.527344 44.8125 16.785156 44.726562 16.785156 C 44.640625 16.785156 44.585938 17.253906 44.585938 17.921875 C 44.585938 18.589844 44.527344 19.058594 44.441406 19.058594 C 44.371094 19.058594 44.300781 19.246094 44.300781 19.488281 C 44.300781 19.714844 44.246094 19.914062 44.160156 19.914062 C 44.089844 19.914062 44.015625 20.042969 44.015625 20.199219 C 44.015625 20.355469 43.960938 20.484375 43.875 20.484375 C 43.804688 20.484375 43.734375 20.582031 43.734375 20.695312 C 43.734375 20.980469 42.527344 22.191406 42.242188 22.191406 C 42.128906 22.191406 42.027344 22.246094 42.027344 22.332031 C 42.027344 22.402344 41.84375 22.472656 41.601562 22.472656 C 41.375 22.472656 41.175781 22.53125 41.175781 22.617188 C 41.175781 22.703125 40.566406 22.757812 39.617188 22.757812 L 38.054688 22.757812 L 38.054688 9.671875 L 39.757812 9.671875 C 40.792969 9.671875 41.460938 9.730469 41.460938 9.816406 Z M 41.460938 9.816406" fill="black" />
      <path d="M 56.226562 11.238281 C 56.226562 11.308594 56.042969 11.378906 55.800781 11.378906 C 55.574219 11.378906 55.375 11.4375 55.375 11.523438 C 55.375 11.59375 55.191406 11.664062 54.949219 11.664062 C 54.722656 11.664062 54.523438 11.71875 54.523438 11.804688 C 54.523438 11.878906 54.425781 11.949219 54.3125 11.949219 C 54.042969 11.949219 52.253906 13.710938 52.253906 13.980469 C 52.253906 14.082031 52.125 14.253906 51.96875 14.367188 C 51.796875 14.480469 51.683594 14.734375 51.683594 14.964844 C 51.683594 15.175781 51.628906 15.363281 51.542969 15.363281 C 51.472656 15.363281 51.402344 15.546875 51.402344 15.789062 C 51.402344 16.015625 51.34375 16.214844 51.257812 16.214844 C 51.171875 16.214844 51.117188 16.597656 51.117188 17.070312 C 51.117188 17.539062 51.058594 17.921875 50.972656 17.921875 C 50.890625 17.921875 50.832031 18.304688 50.832031 18.777344 C 50.832031 19.246094 50.890625 19.628906 50.972656 19.628906 C 51.058594 19.628906 51.117188 20.011719 51.117188 20.484375 C 51.117188 20.953125 51.171875 21.335938 51.257812 21.335938 C 51.34375 21.335938 51.402344 21.519531 51.402344 21.761719 C 51.402344 21.992188 51.472656 22.191406 51.542969 22.191406 C 51.628906 22.191406 51.683594 22.316406 51.683594 22.472656 C 51.683594 22.628906 51.753906 22.757812 51.828125 22.757812 C 51.910156 22.757812 51.96875 22.859375 51.96875 22.984375 C 51.96875 23.113281 52.167969 23.398438 52.394531 23.613281 C 52.636719 23.824219 52.820312 24.109375 52.820312 24.238281 C 52.820312 24.367188 52.917969 24.464844 53.046875 24.464844 C 53.175781 24.464844 53.460938 24.652344 53.671875 24.890625 C 53.886719 25.121094 54.167969 25.320312 54.296875 25.320312 C 54.425781 25.320312 54.523438 25.375 54.523438 25.460938 C 54.523438 25.53125 54.652344 25.601562 54.808594 25.601562 C 54.964844 25.601562 55.09375 25.660156 55.09375 25.746094 C 55.09375 25.816406 55.292969 25.886719 55.519531 25.886719 C 55.757812 25.886719 55.945312 25.945312 55.945312 26.03125 C 55.945312 26.117188 56.371094 26.171875 56.925781 26.171875 C 57.578125 26.171875 57.933594 26.230469 57.988281 26.34375 C 58.058594 26.484375 58.089844 26.484375 58.160156 26.34375 C 58.214844 26.230469 58.570312 26.171875 59.222656 26.171875 C 59.777344 26.171875 60.203125 26.117188 60.203125 26.03125 C 60.203125 25.945312 60.402344 25.886719 60.628906 25.886719 C 60.871094 25.886719 61.054688 25.816406 61.054688 25.746094 C 61.054688 25.660156 61.183594 25.601562 61.339844 25.601562 C 61.496094 25.601562 61.625 25.53125 61.625 25.460938 C 61.625 25.375 61.738281 25.320312 61.878906 25.320312 C 62.019531 25.320312 62.21875 25.191406 62.332031 25.035156 C 62.449219 24.878906 62.617188 24.75 62.730469 24.75 C 62.988281 24.75 63.328125 24.394531 63.328125 24.125 C 63.328125 23.996094 63.398438 23.898438 63.46875 23.898438 C 63.808594 23.898438 63.554688 23.398438 62.902344 22.757812 C 62.519531 22.375 62.191406 21.960938 62.191406 21.847656 C 62.191406 21.476562 61.765625 21.59375 61.339844 22.046875 C 61.125 22.273438 60.84375 22.472656 60.714844 22.472656 C 60.585938 22.472656 60.488281 22.53125 60.488281 22.617188 C 60.488281 22.6875 60.359375 22.757812 60.203125 22.757812 C 60.046875 22.757812 59.917969 22.816406 59.917969 22.902344 C 59.917969 22.984375 59.351562 23.042969 58.5 23.042969 C 57.648438 23.042969 57.082031 22.984375 57.082031 22.902344 C 57.082031 22.816406 56.953125 22.757812 56.796875 22.757812 C 56.640625 22.757812 56.511719 22.6875 56.511719 22.617188 C 56.511719 22.53125 56.414062 22.472656 56.300781 22.472656 C 56.015625 22.472656 55.375 21.835938 55.375 21.550781 C 55.375 21.4375 55.320312 21.335938 55.234375 21.335938 C 55.164062 21.335938 55.09375 21.136719 55.09375 20.910156 C 55.09375 20.667969 55.035156 20.484375 54.949219 20.484375 C 54.878906 20.484375 54.808594 20.355469 54.808594 20.199219 C 54.808594 19.914062 54.90625 19.914062 59.492188 19.914062 L 64.179688 19.914062 L 64.179688 19.058594 C 64.179688 18.589844 64.121094 18.207031 64.039062 18.207031 C 63.953125 18.207031 63.894531 17.738281 63.894531 17.070312 C 63.894531 16.402344 63.839844 15.929688 63.753906 15.929688 C 63.683594 15.929688 63.613281 15.730469 63.613281 15.503906 C 63.613281 15.261719 63.554688 15.078125 63.46875 15.078125 C 63.398438 15.078125 63.328125 14.878906 63.328125 14.652344 C 63.328125 14.410156 63.269531 14.222656 63.1875 14.222656 C 63.113281 14.222656 63.042969 14.125 63.042969 14.011719 C 63.042969 13.726562 61.269531 11.949219 60.984375 11.949219 C 60.871094 11.949219 60.773438 11.878906 60.773438 11.804688 C 60.773438 11.71875 60.644531 11.664062 60.488281 11.664062 C 60.332031 11.664062 60.203125 11.59375 60.203125 11.523438 C 60.203125 11.4375 59.949219 11.378906 59.636719 11.378906 C 59.324219 11.378906 59.066406 11.308594 59.066406 11.238281 C 59.066406 11.152344 58.5 11.09375 57.648438 11.09375 C 56.796875 11.09375 56.226562 11.152344 56.226562 11.238281 Z M 58.5 14.367188 C 58.5 14.4375 58.597656 14.507812 58.714844 14.507812 C 58.996094 14.507812 59.917969 15.433594 59.917969 15.71875 C 59.917969 15.832031 59.992188 15.929688 60.0625 15.929688 C 60.148438 15.929688 60.203125 16.242188 60.203125 16.640625 L 60.203125 17.351562 L 57.507812 17.351562 C 55.800781 17.351562 54.808594 17.296875 54.808594 17.210938 C 54.808594 17.125 54.878906 17.070312 54.949219 17.070312 C 55.035156 17.070312 55.09375 16.8125 55.09375 16.5 C 55.09375 16.1875 55.164062 15.929688 55.234375 15.929688 C 55.320312 15.929688 55.375 15.832031 55.375 15.71875 C 55.375 15.347656 56.3125 14.507812 56.726562 14.507812 C 56.925781 14.507812 57.082031 14.4375 57.082031 14.367188 C 57.082031 14.28125 57.40625 14.222656 57.789062 14.222656 C 58.1875 14.222656 58.5 14.28125 58.5 14.367188 Z M 58.5 14.367188" fill="black" />
      <path d="M 80.933594 11.238281 C 80.933594 11.308594 80.679688 11.378906 80.367188 11.378906 C 80.054688 11.378906 79.796875 11.4375 79.796875 11.523438 C 79.796875 11.59375 79.671875 11.664062 79.515625 11.664062 C 79.359375 11.664062 79.230469 11.71875 79.230469 11.804688 C 79.230469 11.878906 79.117188 11.949219 78.976562 11.949219 C 78.832031 11.949219 78.632812 12.078125 78.519531 12.234375 C 78.40625 12.390625 78.238281 12.515625 78.125 12.515625 C 77.882812 12.515625 77.242188 13.15625 77.242188 13.398438 C 77.242188 13.511719 77.113281 13.683594 76.957031 13.796875 C 76.800781 13.910156 76.675781 14.109375 76.675781 14.253906 C 76.675781 14.394531 76.617188 14.507812 76.53125 14.507812 C 76.460938 14.507812 76.390625 14.636719 76.390625 14.792969 C 76.390625 14.949219 76.332031 15.078125 76.25 15.078125 C 76.179688 15.078125 76.105469 15.207031 76.105469 15.363281 C 76.105469 15.519531 76.050781 15.648438 75.964844 15.648438 C 75.894531 15.648438 75.824219 15.902344 75.824219 16.214844 C 75.824219 16.527344 75.765625 16.785156 75.679688 16.785156 C 75.59375 16.785156 75.539062 17.539062 75.539062 18.777344 C 75.539062 20.011719 75.59375 20.765625 75.679688 20.765625 C 75.765625 20.765625 75.824219 21.023438 75.824219 21.335938 C 75.824219 21.648438 75.894531 21.90625 75.964844 21.90625 C 76.050781 21.90625 76.105469 22.03125 76.105469 22.191406 C 76.105469 22.347656 76.179688 22.472656 76.25 22.472656 C 76.332031 22.472656 76.390625 22.601562 76.390625 22.757812 C 76.390625 22.914062 76.460938 23.042969 76.53125 23.042969 C 76.617188 23.042969 76.675781 23.144531 76.675781 23.257812 C 76.675781 23.527344 78.152344 25.035156 78.421875 25.035156 C 78.519531 25.035156 78.691406 25.164062 78.804688 25.320312 C 78.917969 25.476562 79.117188 25.601562 79.257812 25.601562 C 79.402344 25.601562 79.515625 25.660156 79.515625 25.746094 C 79.515625 25.816406 79.769531 25.886719 80.082031 25.886719 C 80.394531 25.886719 80.652344 25.945312 80.652344 26.03125 C 80.652344 26.117188 81.078125 26.171875 81.628906 26.171875 C 82.285156 26.171875 82.636719 26.230469 82.695312 26.34375 C 82.765625 26.484375 82.792969 26.484375 82.867188 26.34375 C 82.921875 26.230469 83.277344 26.171875 83.929688 26.171875 C 84.484375 26.171875 84.910156 26.117188 84.910156 26.03125 C 84.910156 25.945312 85.109375 25.886719 85.335938 25.886719 C 85.578125 25.886719 85.761719 25.816406 85.761719 25.746094 C 85.761719 25.660156 85.890625 25.601562 86.046875 25.601562 C 86.203125 25.601562 86.332031 25.53125 86.332031 25.460938 C 86.332031 25.375 86.429688 25.320312 86.542969 25.320312 C 86.671875 25.320312 87.109375 24.964844 87.550781 24.523438 C 88.347656 23.738281 88.347656 23.738281 88.046875 23.484375 C 87.878906 23.34375 87.75 23.144531 87.75 23.058594 C 87.75 22.972656 87.453125 22.601562 87.097656 22.246094 L 86.457031 21.59375 L 86.203125 21.890625 C 86.058594 22.0625 85.847656 22.191406 85.746094 22.191406 C 85.632812 22.191406 85.449219 22.316406 85.335938 22.472656 C 85.222656 22.644531 84.96875 22.757812 84.738281 22.757812 C 84.527344 22.757812 84.34375 22.816406 84.34375 22.902344 C 84.34375 22.984375 83.773438 23.042969 82.921875 23.042969 C 82.070312 23.042969 81.503906 22.984375 81.503906 22.902344 C 81.503906 22.816406 81.402344 22.757812 81.289062 22.757812 C 80.921875 22.757812 79.796875 21.535156 79.796875 21.121094 C 79.796875 20.921875 79.742188 20.765625 79.65625 20.765625 C 79.585938 20.765625 79.515625 20.566406 79.515625 20.339844 L 79.515625 19.914062 L 88.601562 19.914062 L 88.601562 18.207031 C 88.601562 17.167969 88.546875 16.5 88.460938 16.5 C 88.390625 16.5 88.316406 16.242188 88.316406 15.929688 C 88.316406 15.617188 88.261719 15.363281 88.175781 15.363281 C 88.105469 15.363281 88.035156 15.164062 88.035156 14.933594 C 88.035156 14.695312 87.976562 14.507812 87.890625 14.507812 C 87.820312 14.507812 87.75 14.394531 87.75 14.253906 C 87.75 14.109375 87.621094 13.910156 87.464844 13.796875 C 87.308594 13.683594 87.183594 13.511719 87.183594 13.398438 C 87.183594 13.144531 86.246094 12.234375 85.976562 12.234375 C 85.863281 12.234375 85.761719 12.160156 85.761719 12.089844 C 85.761719 12.003906 85.632812 11.949219 85.476562 11.949219 C 85.320312 11.949219 85.195312 11.878906 85.195312 11.804688 C 85.195312 11.71875 85.066406 11.664062 84.910156 11.664062 C 84.753906 11.664062 84.625 11.59375 84.625 11.523438 C 84.625 11.4375 84.441406 11.378906 84.199219 11.378906 C 83.972656 11.378906 83.773438 11.308594 83.773438 11.238281 C 83.773438 11.152344 83.207031 11.09375 82.355469 11.09375 C 81.503906 11.09375 80.933594 11.152344 80.933594 11.238281 Z M 82.921875 14.367188 C 82.921875 14.4375 83.078125 14.507812 83.277344 14.507812 C 83.761719 14.507812 84.625 15.375 84.625 15.859375 C 84.625 16.058594 84.695312 16.214844 84.769531 16.214844 C 84.851562 16.214844 84.910156 16.472656 84.910156 16.785156 L 84.910156 17.351562 L 79.515625 17.351562 L 79.515625 16.925781 C 79.515625 16.683594 79.585938 16.5 79.65625 16.5 C 79.742188 16.5 79.796875 16.34375 79.796875 16.144531 C 79.796875 15.730469 80.921875 14.507812 81.289062 14.507812 C 81.402344 14.507812 81.503906 14.4375 81.503906 14.367188 C 81.503906 14.28125 81.828125 14.222656 82.210938 14.222656 C 82.609375 14.222656 82.921875 14.28125 82.921875 14.367188 Z M 82.921875 14.367188" fill="black" />
      <path d="M 109.046875 11.238281 C 109.046875 11.308594 108.792969 11.378906 108.480469 11.378906 C 108.167969 11.378906 107.914062 11.4375 107.914062 11.523438 C 107.914062 11.59375 107.785156 11.664062 107.628906 11.664062 C 107.472656 11.664062 107.34375 11.71875 107.34375 11.804688 C 107.34375 11.878906 107.21875 11.949219 107.0625 11.949219 C 106.90625 11.949219 106.777344 12.003906 106.777344 12.089844 C 106.777344 12.160156 106.675781 12.234375 106.5625 12.234375 C 106.28125 12.234375 105.074219 13.441406 105.074219 13.726562 C 105.074219 13.839844 105.015625 13.941406 104.929688 13.941406 C 104.859375 13.941406 104.789062 14.066406 104.789062 14.222656 C 104.789062 14.378906 104.730469 14.507812 104.648438 14.507812 C 104.574219 14.507812 104.503906 14.765625 104.503906 15.078125 L 104.503906 15.648438 L 108.480469 15.648438 L 108.480469 15.289062 C 108.480469 14.820312 109.078125 14.222656 109.546875 14.222656 C 109.746094 14.222656 109.902344 14.152344 109.902344 14.082031 C 109.902344 13.996094 110.15625 13.941406 110.46875 13.941406 C 110.78125 13.941406 111.035156 13.996094 111.035156 14.082031 C 111.035156 14.152344 111.207031 14.222656 111.40625 14.222656 C 111.816406 14.222656 112.171875 14.523438 112.171875 14.851562 C 112.171875 14.976562 112.242188 15.078125 112.3125 15.078125 C 112.398438 15.078125 112.457031 15.503906 112.457031 16.074219 L 112.457031 17.070312 L 110.753906 17.070312 C 109.714844 17.070312 109.046875 17.125 109.046875 17.210938 C 109.046875 17.28125 108.734375 17.351562 108.339844 17.351562 C 107.957031 17.351562 107.628906 17.410156 107.628906 17.496094 C 107.628906 17.566406 107.445312 17.636719 107.203125 17.636719 C 106.976562 17.636719 106.777344 17.695312 106.777344 17.78125 C 106.777344 17.851562 106.675781 17.921875 106.5625 17.921875 C 106.179688 17.921875 104.503906 19.730469 104.503906 20.128906 C 104.503906 20.328125 104.449219 20.484375 104.363281 20.484375 C 104.277344 20.484375 104.222656 21.050781 104.222656 21.90625 C 104.222656 22.757812 104.277344 23.328125 104.363281 23.328125 C 104.449219 23.328125 104.503906 23.457031 104.503906 23.613281 C 104.503906 23.769531 104.574219 23.898438 104.648438 23.898438 C 104.730469 23.898438 104.789062 23.996094 104.789062 24.109375 C 104.789062 24.378906 105.699219 25.320312 105.953125 25.320312 C 106.066406 25.320312 106.238281 25.445312 106.351562 25.601562 C 106.464844 25.773438 106.71875 25.886719 106.945312 25.886719 C 107.160156 25.886719 107.34375 25.945312 107.34375 26.03125 C 107.34375 26.117188 108.011719 26.171875 109.046875 26.171875 C 110.085938 26.171875 110.753906 26.117188 110.753906 26.03125 C 110.753906 25.945312 110.878906 25.886719 111.035156 25.886719 C 111.191406 25.886719 111.320312 25.816406 111.320312 25.746094 C 111.320312 25.660156 111.417969 25.601562 111.546875 25.601562 C 111.675781 25.601562 111.960938 25.40625 112.171875 25.175781 C 112.65625 24.652344 112.742188 24.652344 112.742188 25.105469 C 112.742188 25.304688 112.894531 25.632812 113.09375 25.816406 C 113.421875 26.15625 113.519531 26.171875 115.226562 26.171875 C 116.902344 26.171875 117 26.15625 117 25.886719 C 117 25.730469 116.941406 25.601562 116.859375 25.601562 C 116.785156 25.601562 116.714844 25.347656 116.714844 25.035156 C 116.714844 24.722656 116.660156 24.464844 116.574219 24.464844 C 116.488281 24.464844 116.433594 22.800781 116.433594 19.773438 C 116.433594 16.742188 116.375 15.078125 116.289062 15.078125 C 116.21875 15.078125 116.148438 14.835938 116.148438 14.535156 C 116.148438 14.167969 116.0625 13.941406 115.863281 13.796875 C 115.707031 13.683594 115.582031 13.511719 115.582031 13.414062 C 115.582031 13.144531 114.359375 11.949219 114.089844 11.949219 C 113.976562 11.949219 113.875 11.878906 113.875 11.804688 C 113.875 11.71875 113.75 11.664062 113.59375 11.664062 C 113.4375 11.664062 113.308594 11.59375 113.308594 11.523438 C 113.308594 11.4375 113.050781 11.378906 112.742188 11.378906 C 112.429688 11.378906 112.171875 11.308594 112.171875 11.238281 C 112.171875 11.152344 111.5625 11.09375 110.609375 11.09375 C 109.660156 11.09375 109.046875 11.152344 109.046875 11.238281 Z M 112.457031 20.695312 L 112.457031 22.0625 L 111.960938 22.546875 C 111.660156 22.859375 111.335938 23.042969 111.105469 23.042969 C 110.910156 23.042969 110.753906 23.101562 110.753906 23.183594 C 110.753906 23.269531 110.367188 23.328125 109.902344 23.328125 C 109.433594 23.328125 109.046875 23.269531 109.046875 23.183594 C 109.046875 23.101562 108.921875 23.042969 108.765625 23.042969 C 108.578125 23.042969 108.480469 22.945312 108.480469 22.757812 C 108.480469 22.601562 108.421875 22.472656 108.339844 22.472656 C 108.269531 22.472656 108.195312 22.347656 108.195312 22.191406 C 108.195312 22.03125 108.140625 21.90625 108.054688 21.90625 C 107.984375 21.90625 107.914062 21.777344 107.914062 21.621094 C 107.914062 21.464844 107.984375 21.335938 108.054688 21.335938 C 108.140625 21.335938 108.195312 21.179688 108.195312 20.980469 C 108.195312 20.496094 109.0625 19.628906 109.546875 19.628906 C 109.746094 19.628906 109.902344 19.558594 109.902344 19.488281 C 109.902344 19.402344 110.425781 19.34375 111.179688 19.34375 L 112.457031 19.34375 Z M 112.457031 20.695312" fill="black" />
      <path d="M 90.023438 11.664062 C 90.023438 11.820312 90.09375 11.949219 90.164062 11.949219 C 90.25 11.949219 90.304688 12.078125 90.304688 12.234375 C 90.304688 12.390625 90.375 12.515625 90.449219 12.515625 C 90.53125 12.515625 90.589844 12.632812 90.589844 12.773438 C 90.589844 12.914062 90.71875 13.113281 90.875 13.226562 C 91.03125 13.34375 91.15625 13.542969 91.15625 13.683594 C 91.15625 13.824219 91.230469 13.941406 91.300781 13.941406 C 91.386719 13.941406 91.441406 14.066406 91.441406 14.222656 C 91.441406 14.378906 91.511719 14.507812 91.582031 14.507812 C 91.667969 14.507812 91.726562 14.621094 91.726562 14.765625 C 91.726562 14.90625 91.855469 15.105469 92.007812 15.21875 C 92.164062 15.332031 92.292969 15.53125 92.292969 15.675781 C 92.292969 15.816406 92.363281 15.929688 92.4375 15.929688 C 92.519531 15.929688 92.578125 16.058594 92.578125 16.214844 C 92.578125 16.371094 92.648438 16.5 92.71875 16.5 C 92.804688 16.5 92.863281 16.613281 92.863281 16.757812 C 92.863281 16.898438 92.988281 17.097656 93.144531 17.210938 C 93.300781 17.324219 93.429688 17.523438 93.429688 17.667969 C 93.429688 17.808594 93.5 17.921875 93.570312 17.921875 C 93.65625 17.921875 93.714844 18.179688 93.714844 18.492188 C 93.714844 18.804688 93.65625 19.058594 93.570312 19.058594 C 93.5 19.058594 93.429688 19.1875 93.429688 19.34375 C 93.429688 19.5 93.371094 19.628906 93.289062 19.628906 C 93.214844 19.628906 93.144531 19.757812 93.144531 19.914062 C 93.144531 20.070312 93.089844 20.199219 93.003906 20.199219 C 92.933594 20.199219 92.863281 20.3125 92.863281 20.453125 C 92.863281 20.597656 92.734375 20.796875 92.578125 20.910156 C 92.421875 21.023438 92.292969 21.222656 92.292969 21.363281 C 92.292969 21.507812 92.238281 21.621094 92.152344 21.621094 C 92.082031 21.621094 92.007812 21.734375 92.007812 21.875 C 92.007812 22.019531 91.882812 22.21875 91.726562 22.332031 C 91.570312 22.445312 91.441406 22.644531 91.441406 22.785156 C 91.441406 22.929688 91.386719 23.042969 91.300781 23.042969 C 91.230469 23.042969 91.15625 23.171875 91.15625 23.328125 C 91.15625 23.484375 91.101562 23.613281 91.015625 23.613281 C 90.945312 23.613281 90.875 23.726562 90.875 23.867188 C 90.875 24.011719 90.746094 24.210938 90.589844 24.324219 C 90.433594 24.4375 90.304688 24.636719 90.304688 24.777344 C 90.304688 24.921875 90.25 25.035156 90.164062 25.035156 C 90.09375 25.035156 90.023438 25.164062 90.023438 25.320312 C 90.023438 25.476562 89.964844 25.601562 89.878906 25.601562 C 89.808594 25.601562 89.738281 25.730469 89.738281 25.886719 C 89.738281 26.15625 89.835938 26.171875 91.667969 26.171875 C 93.65625 26.171875 93.996094 26.085938 93.996094 25.546875 C 93.996094 25.417969 94.070312 25.320312 94.140625 25.320312 C 94.226562 25.320312 94.28125 25.207031 94.28125 25.0625 C 94.28125 24.921875 94.410156 24.722656 94.566406 24.609375 C 94.722656 24.492188 94.847656 24.292969 94.847656 24.152344 C 94.847656 24.011719 94.921875 23.898438 94.992188 23.898438 C 95.078125 23.898438 95.132812 23.769531 95.132812 23.613281 C 95.132812 23.457031 95.203125 23.328125 95.277344 23.328125 C 95.359375 23.328125 95.417969 23.199219 95.417969 23.042969 C 95.417969 22.886719 95.488281 22.757812 95.558594 22.757812 C 95.644531 22.757812 95.703125 22.660156 95.703125 22.546875 C 95.703125 22.332031 96.296875 21.621094 96.480469 21.621094 C 96.523438 21.621094 96.554688 21.734375 96.554688 21.875 C 96.554688 22.019531 96.679688 22.21875 96.835938 22.332031 C 96.992188 22.445312 97.121094 22.644531 97.121094 22.785156 C 97.121094 22.929688 97.191406 23.042969 97.261719 23.042969 C 97.347656 23.042969 97.40625 23.171875 97.40625 23.328125 C 97.40625 23.484375 97.476562 23.613281 97.546875 23.613281 C 97.632812 23.613281 97.6875 23.738281 97.6875 23.898438 C 97.6875 24.054688 97.761719 24.179688 97.832031 24.179688 C 97.917969 24.179688 97.972656 24.292969 97.972656 24.4375 C 97.972656 24.578125 98.101562 24.777344 98.257812 24.890625 C 98.414062 25.007812 98.542969 25.207031 98.542969 25.347656 C 98.542969 25.488281 98.613281 25.601562 98.683594 25.601562 C 98.769531 25.601562 98.824219 25.730469 98.824219 25.886719 C 98.824219 26.15625 98.925781 26.171875 100.8125 26.171875 L 102.800781 26.171875 L 102.800781 25.746094 C 102.800781 25.503906 102.746094 25.320312 102.660156 25.320312 C 102.589844 25.320312 102.515625 25.207031 102.515625 25.0625 C 102.515625 24.921875 102.390625 24.722656 102.234375 24.609375 C 102.078125 24.492188 101.949219 24.292969 101.949219 24.152344 C 101.949219 24.011719 101.890625 23.898438 101.808594 23.898438 C 101.734375 23.898438 101.664062 23.769531 101.664062 23.613281 C 101.664062 23.457031 101.609375 23.328125 101.523438 23.328125 C 101.453125 23.328125 101.382812 23.214844 101.382812 23.070312 C 101.382812 22.929688 101.253906 22.730469 101.097656 22.617188 C 100.941406 22.503906 100.8125 22.304688 100.8125 22.160156 C 100.8125 22.019531 100.757812 21.90625 100.671875 21.90625 C 100.601562 21.90625 100.527344 21.777344 100.527344 21.621094 C 100.527344 21.464844 100.472656 21.335938 100.386719 21.335938 C 100.316406 21.335938 100.246094 21.222656 100.246094 21.082031 C 100.246094 20.9375 100.117188 20.738281 99.960938 20.625 C 99.804688 20.511719 99.675781 20.3125 99.675781 20.167969 C 99.675781 20.027344 99.621094 19.914062 99.535156 19.914062 C 99.464844 19.914062 99.394531 19.800781 99.394531 19.65625 C 99.394531 19.515625 99.265625 19.316406 99.109375 19.203125 C 98.8125 18.988281 98.710938 18.207031 98.96875 18.207031 C 99.050781 18.207031 99.109375 18.078125 99.109375 17.921875 C 99.109375 17.765625 99.179688 17.636719 99.25 17.636719 C 99.335938 17.636719 99.394531 17.523438 99.394531 17.382812 C 99.394531 17.238281 99.519531 17.039062 99.675781 16.925781 C 99.832031 16.8125 99.960938 16.613281 99.960938 16.472656 C 99.960938 16.328125 100.03125 16.214844 100.101562 16.214844 C 100.1875 16.214844 100.246094 16.101562 100.246094 15.960938 C 100.246094 15.816406 100.371094 15.617188 100.527344 15.503906 C 100.683594 15.390625 100.8125 15.191406 100.8125 15.050781 C 100.8125 14.90625 100.882812 14.792969 100.957031 14.792969 C 101.039062 14.792969 101.097656 14.664062 101.097656 14.507812 C 101.097656 14.351562 101.167969 14.222656 101.238281 14.222656 C 101.324219 14.222656 101.382812 14.109375 101.382812 13.96875 C 101.382812 13.824219 101.507812 13.625 101.664062 13.511719 C 101.820312 13.398438 101.949219 13.199219 101.949219 13.058594 C 101.949219 12.914062 102.019531 12.800781 102.089844 12.800781 C 102.175781 12.800781 102.234375 12.671875 102.234375 12.515625 C 102.234375 12.359375 102.304688 12.234375 102.375 12.234375 C 102.460938 12.234375 102.515625 12.105469 102.515625 11.949219 C 102.515625 11.792969 102.589844 11.664062 102.660156 11.664062 C 102.746094 11.664062 102.800781 11.59375 102.800781 11.523438 C 102.800781 11.4375 101.992188 11.378906 100.671875 11.378906 C 98.640625 11.378906 98.542969 11.394531 98.542969 11.664062 C 98.542969 11.820312 98.484375 11.949219 98.398438 11.949219 C 98.328125 11.949219 98.257812 12.078125 98.257812 12.234375 C 98.257812 12.390625 98.199219 12.515625 98.117188 12.515625 C 98.042969 12.515625 97.972656 12.644531 97.972656 12.800781 C 97.972656 12.957031 97.917969 13.085938 97.832031 13.085938 C 97.761719 13.085938 97.6875 13.199219 97.6875 13.34375 C 97.6875 13.484375 97.5625 13.683594 97.40625 13.796875 C 97.25 13.910156 97.121094 14.109375 97.121094 14.253906 C 97.121094 14.394531 97.066406 14.507812 96.980469 14.507812 C 96.910156 14.507812 96.835938 14.636719 96.835938 14.792969 C 96.835938 14.949219 96.78125 15.078125 96.695312 15.078125 C 96.625 15.078125 96.554688 15.207031 96.554688 15.363281 C 96.554688 15.519531 96.511719 15.648438 96.46875 15.648438 C 96.3125 15.648438 95.984375 15.234375 95.984375 15.019531 C 95.984375 14.894531 95.929688 14.792969 95.84375 14.792969 C 95.773438 14.792969 95.703125 14.679688 95.703125 14.535156 C 95.703125 14.394531 95.574219 14.195312 95.417969 14.082031 C 95.261719 13.96875 95.132812 13.769531 95.132812 13.625 C 95.132812 13.484375 95.078125 13.371094 94.992188 13.371094 C 94.921875 13.371094 94.847656 13.242188 94.847656 13.085938 C 94.847656 12.929688 94.792969 12.800781 94.707031 12.800781 C 94.636719 12.800781 94.566406 12.671875 94.566406 12.515625 C 94.566406 12.359375 94.507812 12.234375 94.421875 12.234375 C 94.351562 12.234375 94.28125 12.132812 94.28125 12.003906 C 94.28125 11.464844 93.941406 11.378906 91.953125 11.378906 C 90.121094 11.378906 90.023438 11.394531 90.023438 11.664062 Z M 90.023438 11.664062" fill="black" />
      </g>
      </svg>
    </header>
  
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      
        <div class="search">
          <i class="search-icon"></i>
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#defexa-docs" class="toc-h1 toc-link" data-title="Defexa | Docs">Defexa | Docs</a>
          </li>
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
          </li>
          <li>
            <a href="#integration" class="toc-h1 toc-link" data-title="Integration">Integration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#invoice" class="toc-h2 toc-link" data-title="Invoice"><strong>Invoice</strong></a>
                  </li>
                  <li>
                    <a href="#payout" class="toc-h2 toc-link" data-title="Payout">Payout</a>
                  </li>
                  <li>
                    <a href="#references" class="toc-h2 toc-link" data-title="References"><strong>References</strong></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#invoice-api" class="toc-h1 toc-link" data-title="Invoice API">Invoice API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-invoices" class="toc-h2 toc-link" data-title="Get All Invoices">Get All Invoices</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-invoice" class="toc-h2 toc-link" data-title="Get a Specific Invoice">Get a Specific Invoice</a>
                  </li>
                  <li>
                    <a href="#new-invoice" class="toc-h2 toc-link" data-title="New Invoice">New Invoice</a>
                  </li>
                  <li>
                    <a href="#funds-withdrawal-from-unlimited-invoice" class="toc-h2 toc-link" data-title="Funds Withdrawal (from unlimited invoice)">Funds Withdrawal (from unlimited invoice)</a>
                  </li>
                  <li>
                    <a href="#generate-reusable-api-key" class="toc-h2 toc-link" data-title="Generate reusable api key">Generate reusable api key</a>
                  </li>
                  <li>
                    <a href="#mark-that-intervention-is-relolved-in-invoice" class="toc-h2 toc-link" data-title="Mark that intervention is relolved in invoice">Mark that intervention is relolved in invoice</a>
                  </li>
                  <li>
                    <a href="#resolve-intervention-and-receive-money-to-the-wallet" class="toc-h2 toc-link" data-title="Resolve intervention and receive money to the wallet">Resolve intervention and receive money to the wallet</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payout-api" class="toc-h1 toc-link" data-title="Payout API">Payout API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-assets-and-wallet-addresses" class="toc-h2 toc-link" data-title="Get Assets And Wallet Addresses">Get Assets And Wallet Addresses</a>
                  </li>
                  <li>
                    <a href="#new-payout" class="toc-h2 toc-link" data-title="New Payout">New Payout</a>
                  </li>
                  <li>
                    <a href="#get-specific-payout" class="toc-h2 toc-link" data-title="Get Specific Payout">Get Specific Payout</a>
                  </li>
                  <li>
                    <a href="#get-all-payouts" class="toc-h2 toc-link" data-title="Get All Payouts">Get All Payouts</a>
                  </li>
                  <li>
                    <a href="#new-mass-payout" class="toc-h2 toc-link" data-title="New Mass Payout">New Mass Payout</a>
                  </li>
                  <li>
                    <a href="#get-all-mass-payouts" class="toc-h2 toc-link" data-title="Get All Mass Payouts">Get All Mass Payouts</a>
                  </li>
                  <li>
                    <a href="#get-specific-mass-payout" class="toc-h2 toc-link" data-title="Get Specific Mass Payout">Get Specific Mass Payout</a>
                  </li>
                  <li>
                    <a href="#get-transactions-from-a-specific-mass-payout" class="toc-h2 toc-link" data-title="Get Transactions From a Specific Mass Payout">Get Transactions From a Specific Mass Payout</a>
                  </li>
                  <li>
                    <a href="#get-specific-transaction-from-a-mass-payout" class="toc-h2 toc-link" data-title="Get Specific Transaction From a Mass Payout">Get Specific Transaction From a Mass Payout</a>
                  </li>
                  <li>
                    <a href="#get-expected-transaction-fee" class="toc-h2 toc-link" data-title="Get Expected Transaction Fee">Get Expected Transaction Fee</a>
                  </li>
                  <li>
                    <a href="#get-specific-crypto-to-fiat-payout" class="toc-h2 toc-link" data-title="Get Specific Crypto-to-fiat Payout">Get Specific Crypto-to-fiat Payout</a>
                  </li>
                  <li>
                    <a href="#create-crypto-to-fiat-payout" class="toc-h2 toc-link" data-title="Create Crypto-to-fiat Payout">Create Crypto-to-fiat Payout</a>
                  </li>
                  <li>
                    <a href="#get-all-crypto-to-fiat-payouts" class="toc-h2 toc-link" data-title="Get All Crypto-to-fiat Payouts">Get All Crypto-to-fiat Payouts</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-api" class="toc-h1 toc-link" data-title="Wallet API">Wallet API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#new-wallet" class="toc-h2 toc-link" data-title="New Wallet">New Wallet</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#currencies-and-reates-api" class="toc-h1 toc-link" data-title="Currencies and reates API">Currencies and reates API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-currencies" class="toc-h2 toc-link" data-title="Get all currencies">Get all currencies</a>
                  </li>
                  <li>
                    <a href="#get-exchange-rates" class="toc-h2 toc-link" data-title="Get exchange rates">Get exchange rates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bank-requisites-api" class="toc-h1 toc-link" data-title="Bank Requisites API">Bank Requisites API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-specific-requisites" class="toc-h2 toc-link" data-title="Get Specific Requisites">Get Specific Requisites</a>
                  </li>
                  <li>
                    <a href="#get-all-requisites" class="toc-h2 toc-link" data-title="Get All Requisites">Get All Requisites</a>
                  </li>
                  <li>
                    <a href="#create-sepa-requisites" class="toc-h2 toc-link" data-title="Create SEPA Requisites">Create SEPA Requisites</a>
                  </li>
                  <li>
                    <a href="#create-swift-requisites" class="toc-h2 toc-link" data-title="Create SWIFT Requisites">Create SWIFT Requisites</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#types-of-events" class="toc-h2 toc-link" data-title="Types of Events">Types of Events</a>
                  </li>
                  <li>
                    <a href="#webhook-payload" class="toc-h2 toc-link" data-title="Webhook payload">Webhook payload</a>
                  </li>
                  <li>
                    <a href="#webhook-api" class="toc-h2 toc-link" data-title="Webhook api">Webhook api</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://ui.svc.wallet.defexa.io' class="calypso-link">Defexa<svg class="calypso-link-icon" width="24" height="24" viewBox="0 -3.6 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 5.5H6C5.44772 5.5 5 5.94772 5 6.5V18.5C5 19.0523 5.44772 19.5 6 19.5H18C18.5523 19.5 19 19.0523 19 18.5V15.5" stroke="#376FFF" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 12.5L19 5.5M19 5.5V11M19 5.5H13.5" stroke="#376FFF" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg></a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='defexa-docs'>Defexa | Docs</h1><h1 id='overview'>Overview</h1>
<p><strong>Defexa</strong> is a technical platform for accepting payments and making payout in cryptocurrency. It enables a quick start of sales for businesses by completing easy integration and setup.</p>
<h5 id='products'><strong>Products:</strong></h5>
<ul>
<li><strong>Invoice</strong> is a commercial document issued by a merchant to a client relating to a sale transaction. It includes provided products and services, their quantities and agreed costs.</li>
<li><strong>Payment Link</strong> is a link to a one-time invoice. Payment links can be sent by email, messenger or in any other way.</li>
<li><strong>Unlimited invoice</strong> is an invoice without a fixed amount. Payments to the invoice of this type can be accepted in unlimited quantities for any amount for an unlimited time. Funds are transferred to the hot wallet if necessary.</li>
<li><strong>Payout</strong> is a payment of a reward, dividend, insurance compensation, etc. (i.e.Â you may need to pay dividends to partners). Withdrawal of funds is performed by <strong>Payment Processor</strong>.</li>
<li><strong>Mass Payout</strong> is a method of paying multiple recipients simultaneously. Since mass payouts are submitted online, they are processed instantly which helps organizations to save time, money and resources.</li>
</ul>
<h5 id='the-purpose-and-target-audience-of-this-documentation'><strong>The purpose and target audience of this documentation</strong></h5>
<p>This documentation is targeted at:</p>

<ul>
<li>Developers using Defexa</li>
<li>Merchants needing to integrate their system with the Defexa platform using the API for accepting payments</li>
<li>Merchants needing payment API documentation and other technical documentation</li>
</ul>
<h5 id='need-help'><strong>Need help?</strong></h5>
<p>If you did not find the required information in this documentation, please contact us to get help.</p>
<h1 id='integration'>Integration</h1><h2 id='invoice'><strong>Invoice</strong></h2><h3 id='overview-2'><strong>Overview</strong></h3><h5 id='what-is-a-cryptocurrency-invoice'><strong>What is a cryptocurrency invoice?</strong></h5>
<p>In common interpretation, <strong>invoice</strong> is a commercial document that includes products and services provided by a merchant to a client, product quantities and its agreed costs.</p>

<p><strong>Cryptocurrency invoice</strong> is also a document used for settlement between partners. The only difference from a regular invoice is that a cryptocurrency one is issued in cryptocurrency.</p>

<p>If you are going to accept payments in cryptocurrency, invoices must include the following data:</p>

<ul>
<li>Exact amount to be paid in fiat currency or in cryptocurrency</li>
<li>Exact wallet address the client is going to transfer money</li>
</ul>

<p>After sending an invoice, a client will only have to pay. You can get payment information both in the Defexa web interface and through the API.</p>
<h5 id='terminology-and-entities'><strong>Terminology and entities</strong></h5>
<p><strong>Merchant</strong> is a participant of technical and financial interaction who provides goods and services, issues invoices and has the access to withdraw the funds.</p>
<h5 id='features'><strong>Features:</strong></h5>
<ul>
<li>Add a payment form (payment widget) on the site</li>
<li>Issue an invoice for payment of goods and send it directly to the client</li>
<li>Pay using the <strong>Payment Link</strong></li>
<li>Monitor receipts</li>
<li>Withdraw funds in fiat currency to a card, as a bank transfer, etc.</li>
</ul>
<h5 id='client-buyer-is-a-person-purchasing-products-services'><strong>Client (buyer)</strong> is a person purchasing products/services.</h5><h5 id='features-2'><strong>Features:</strong></h5>
<ul>
<li>Pay for a product/service in cryptocurrency.</li>
<li>Get a confirmation that purchase is completed and money are received by a merchant</li>
<li>Resolve disputed issues</li>
</ul>

<p><strong>Invoice wallet</strong> is a unique wallet designed to receive payment from one end customer. It is generated when creating an invoice.</p>
<h5 id='features-3'><strong>Features:</strong></h5>
<ul>
<li>Accept payments</li>
<li>Identify a payment and confirm a user made this payment</li>
</ul>
<h5 id='api'><strong>API</strong></h5>
<p>Defexa enables external developers to programmatically interact with the service. One way to do this is to use Defexa APIs.</p>
<h5 id='api-access-key'><strong>API access key</strong></h5>
<p>The API access key is used to authenticate operations required for making payments and payouts.</p>

<p>If passing incorrect API key in requests to Defexa API, the platform returns an authentication error (HTTP/401).</p>

<p>Please do not share your Defexa API key with anyone!</p>

<p><em>More details on API access keys are available on the Invoice API page.</em></p>
<h5 id='payment-by-invoice'><strong>Payment by invoice</strong></h5>
<p>To transfer funds for provided products/services to a merchant account, an invoice must be paid.</p>

<p>To make a payment from the Defexa payment form, there are the following steps to be performed:</p>

<ul>
<li>Send API request to create an invoiceÂ (<strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/create</strong>)</li>
<li>Redirect a browser of a user to the link of the following format: <strong>https://ui.svc.wallet.defexa.io/invoices/{idempotencyKey}</strong></li>
</ul>

<blockquote>
<p>Example of the create invoice request:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">13292792792</span><span class="p">,</span><span class="w">
  </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice for client 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hotWalletAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3c1f886e5edf475980bea31c5e05d2e457b7e752"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c15b5eb6-e01d-4161-9dfa-a1193ad0371e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Further steps to complete payment are performed by a user in the payment form.</p>

<p>If using a payment form designed on your side, interaction with the Defexa platform will look as shown in the <strong>scheme of information process interaction</strong>.</p>
<h5 id='invoice-statuses'><strong>Invoice statuses</strong></h5>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PENDING_PAYMENT</td>
<td>&#8226; A new unpaid invoice. <br /> &#8226; Client has transferred funds, but the funds has not yet been credited to the account.</td>
</tr>
<tr>
<td>MEM_POOL_FOUND</td>
<td>Incoming transaction to invoice wallet is found in blockchain mempool.</td>
</tr>
<tr>
<td>PAID</td>
<td>Invoice is paid.</td>
</tr>
<tr>
<td>PENDING_INTERVENTION</td>
<td>&#8226; Intervention from the merchant is awaited. <br /> &#8226; Client transferred insufficient amount. <br /> &#8226; Client has transferred an amount exceeding an invoice amount. <br /> &#8226; Funds were transferred from different client accounts.</td>
</tr>
<tr>
<td>CANCEL</td>
<td>Invoice is canceled by merchant.</td>
</tr>
<tr>
<td>COMPLETED</td>
<td>Funds are transferd to merchant wallet.</td>
</tr>
<tr>
<td>ARCHIVED</td>
<td>Invoce is deleted by merchant.</td>
</tr>
</tbody></table>

<p>Diagram nodes indicate invoice statuses, arrows indicate processes a successful completion of which transfers an invoice from one status to another.</p>

<p><img src="images/invoice_status_diagram-c71f48aa.png" width="95%" height="90%" style="margin: 5%"/></p>

<p>Withdrawal of funds</p>

<p>There are two scenarios of fund withdrawal:</p>

<ol>
<li>If using invoices and payouts:

<ol>
<li>Funds are credited to an invoice wallet and transferred to a payout hot wallet</li>
<li>Payment can be made from a payout hot wallet</li>
</ol></li>
<li>If using invoices separately from payouts:

<ol>
<li>Funds are credited to an invoice wallet</li>
<li>Funds are transferred to a Defexa hot wallet</li>
</ol></li>
</ol>
<h3 id='payment-link'>Payment Link</h3><h5 id='what-is-a-payment-link'><strong>What is a Payment Link?</strong></h5>
<p><strong>Payment Link</strong> is a link to a one-time invoice. Payment links can be sent by email, messenger or in any other way.</p>
<h5 id='how-does-it-work'><strong>How does it work?</strong></h5>
<ul>
<li>Creating a Payment Link.</li>
</ul>

<p>You can use payment links to sell products/services,</p>

<p>launch subscriptions or collect donations.</p>

<ul>
<li>Share the link.</li>
</ul>

<p>Send the <strong>Payment Link</strong> via email, messenger or in any other way.</p>

<ul>
<li>Invoice payment.</li>
</ul>

<p>Use the Defexa UI, email or webhooks to be notified about successful payment and crediting of funds.</p>
<h5 id='how-to-implement-this-via-api'><strong>How to implement this via API?</strong></h5>
<p>Defexa API enables you with creating your own Payment links</p>
<h5 id='to-use-defexa-payment-link'><strong>To use Defexa Payment Link:</strong></h5>
<ul>
<li>Send API request to create an invoice (<strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/create</strong>)</li>
<li>Copy generated idempotencyKey from the response</li>
<li>Redirect a browser of a user to the link of the following format: <strong>https://ui.svc.wallet.defexa.io/invoices/{idempotencyKey}</strong></li>
</ul>

<p>Further steps to complete payment are performed by a user in the payment form.</p>

<p>Below is a scheme demonstrating the listed steps.</p>

<p>Names of requests on the scheme indicate certain payment API methods.</p>

<!-- Sequence ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ payment link -->

<p><img src="images/create_invoice-5b187e72.png" width="95%" height="90%" style="margin: 5%"/></p>
<h5 id='to-create-your-own-payment-links-using-defexa'><strong>To create your own payment links using Defexa:</strong></h5>
<ul>
<li>Send API request to create an invoice (<strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/create</strong>)</li>
<li>Copy generated invoice ID from the response</li>
<li>Send API request <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice</strong> and copy the data required for a user to complete this invoice payment</li>
<li>Add copied data to a payment page and share a page link with a user</li>
</ul>

<p>Further steps to complete payment are performed by a user in the payment form.</p>

<p>Below is a scheme demonstrating the listed steps.</p>

<p>Names of requests on the scheme indicate certain payment API methods.</p>

<!-- Sequence ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°ÑÑÐ¾Ð¼Ð½Ð¾Ð³Ð¾ payment link -->

<p><img src="images/custom_payment_link-5e90ad4c.png" width="75%" height="70%" style="margin: 5% 10%"/></p>
<h3 id='unlimited-invoice-or-client-wallet'>Unlimited invoice (or client wallet)</h3>
<p><strong>Unlimited invoice</strong> is an invoice without a fixed amount. Payments to the invoice of this type can be accepted in unlimited quantities for any amount for an unlimited time. Funds are transferred to the hot wallet if necessary.</p>

<blockquote>
<p>Example of the create unlimited invoice request:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">13292792793</span><span class="p">,</span><span class="w">
  </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wallet of client 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hotWalletAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3c1f886e5edf475980bea31c5e05d2e457b7e752"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c15b5eb6-e01d-4161-9dfa-a1193ad0371e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNLIMITED"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Unlimited invoices can be used as clients wallets:</p>

<ul>
<li>Send API request to create an invoice with type &quot;UNLIMITED&quot; (<strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/create</strong>)</li>
<li>Provide the generated address and other data from the responce to the client</li>
<li>Client can top up this wallet whenever he wants without any restrictions</li>
<li>To withdrawal money from this client wallet you can send the request &quot;Funds withdrawal&quot; (<strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/unlimited/withdrawal</strong>)</li>
</ul>
<h3 id='payment-widget'>Payment Widget</h3><h5 id='overview-3'><strong>Overview</strong></h5>
<p>Defexa provides users with the ability to generate widgets for invoice payment, which can be sent to the client or embedded on any web page. The widget indicates the amount to be paid, the available cryptocurrencies and description of payment. When paying the amount specified in the fiat currency, the exchange rate is fixed for 15 minutes (60 minutes for BTC) from the moment the invoice is created.</p>

<p><img src="images/payment_widget_overview-c2d9bbb1.png" width="95%" height="90%" style="margin: 5%"/></p>
<h5 id='features-4'><strong>Features</strong>:</h5>
<ul>
<li>Payment of an invoice without the need to create it specifically in the system</li>
<li>Allows to specify the payment amount in a fiat currency</li>
<li>Exchange rate is fixed for 15 minutes</li>
<li>Flexible parameter setting: the ability to choose a different cryptocurrency, full or reduced frame of widget, add a description</li>
</ul>
<h5 id='how-does-it-work-2'><strong>How does it work?</strong></h5>
<ol>
<li>A client follow the link and specify the cryptocurrency he wants to pay with.</li>
<li>The client clicks the button &quot;Proceed to payment&quot;.</li>
<li>Clicking the button triggers a call to Defexa Invoice API to create a new invoice.</li>
<li>When the invoice is created, the widget shows to the client a payment page.</li>
<li>The client completes the payment.</li>
<li>The client sees the message that transaction is processing.</li>
<li>Transaction is completed by a network.</li>
<li>The client sees the notification that payment is complete successfully.</li>
</ol>
<h5 id='how-to-create'>How to create?</h5>
<p>To create a payment widget, there are the following steps to be performed:</p>

<ul>
<li>Send API request to generate a reusable key (<strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/reusable-key-service</strong>)</li>
<li>Send link with payment widget and configured parameters to the client or embed it to the web-site where the payment is needed.</li>
</ul>

<p>To access the widget, a link is formed with a certain set of parameters:
<strong>https://ui.svc.wallet.defexa.io/payment?currency={<em>fiat_currency</em>}&amp;amount={<em>payment_amount</em>}&amp;description={<em>text</em>}&amp;btc_wallet={<em>btc_address</em>}&amp;eth_wallet={<em>eth_address</em>}&amp;usdt_wallet={<em>usdt_address</em>}&amp;trx_wallet={<em>trx_address</em>}&amp;usdt_trx_wallet={<em>usdt_trx_address</em>}&amp;xdg_wallet={<em>xdg_address</em>}&amp;dai_wallet={<em>dai_address</em>}&amp;frax_wallet={<em>frax_address</em>}&amp;usdc_wallet={<em>usdc_address</em>}&amp;busd_eth_wallet={<em>busd_eth_address</em>}&amp;key={<em>genereted_reusable_key</em>}&amp;full={<em>true_or_false</em>}&amp;idempotency_key={<em>idempotency_key</em>}&amp;logo_url={<em>logo_logo</em>}&amp;return_url={<em>url_to_return_page</em>}&amp;support_url={<em>support_url</em>}</strong></p>
<h5 id='description-of-parameters'>Description of parameters</h5>
<ul>
<li><strong>currency</strong> - the currency in which the payment is made;</li>
<li><strong>amount</strong> - the amount for which the payment is made;</li>
<li><strong>description</strong> - description or comment that is displayed in the widget;</li>
<li><strong>btc_wallet</strong> - the address of the bitcoin wallet to which the funds from the invoice payment will be received;</li>
<li><strong>eth_wallet</strong> - the address of the ethereum wallet to which the funds from the invoice payment will be received;</li>
<li><strong>usdt_wallet</strong> - the address of the ethereum wallet to which the funds from the invoice payment will be received in USDT;</li>
<li><strong>trx_wallet</strong> - the address of the tron wallet to which the funds from the invoice payment will be received;</li>
<li><strong>usdt_trx_wallet</strong>Â - the address of the tron wallet to which the funds from the invoice payment will be received in USDT (TRC20); string, optional.</li>
<li><strong>xdg_wallet</strong> - the address of the doge wallet to which the funds from the invoice payment will be received; string, optional.</li>
<li><strong>dai_wallet</strong>Â - the address of the ethereum wallet to which the funds from the invoice payment will be received in DAI; string, optional.</li>
<li><strong>frax_wallet</strong>Â - the address of the ethereum wallet to which the funds from the invoice payment will be received in FRAX; string, optional.</li>
<li><strong>usdc_wallet</strong>Â - the address of the ethereum wallet to which the funds from the invoice payment will be received in USDT; string, optional.</li>
<li><strong>busd_eth_wallet</strong>Â - the address of the ethereum wallet to which the funds from the invoice payment will be received in BUSD (ERC20); string, optional.</li>
<li><strong>key</strong> - a reusable key with a limited validity period, which is generated by the user via the Public API using the api key.</li>
<li><strong>full</strong> - if true, the full version of the widget is displayed, if false, the mini version of the widget is shown.</li>
<li><strong>idempotencyKey</strong> - idempotency key in the uuid4 format, that allows to get created invoice by idempotencyKey field.</li>
<li><strong>logo_url</strong> - link to the logo of merchant which will be shown in the payment widget. The logo must be in PNG format. Recommended size 100*24 px.</li>
<li><strong>return_url</strong> - link to the web page where client can come back to from payment widget.</li>
<li><strong>support_url</strong> - link to the merchant support page where client can go to from payment widget.</li>
</ul>

<!-- ### **Invoice limits**

- **withdrawal of funds**: totally up to 5,000 euro per day
- **number of requests to Defexa API**: up to 100 requests per day -->
<h2 id='payout'>Payout</h2><h3 id='overview-4'><strong>Overview</strong></h3>
<p><strong>Payout</strong> is a payment of a reward, dividend, insurance compensation, etc. (i.e.Â a client may request to withdraw funds won in a casino). Withdrawal of funds is performed by <strong>Payment Processor</strong>.</p>
<h5 id='terminology-and-entities-2'><strong>Terminology and entities</strong></h5>
<ul>
<li><strong>Payout</strong> is an object with data about a payout: payout ID, its status and data on the amount to be paid. The difference between the payment amount and the payout amount is the sum of all commissions.</li>
<li><strong>Wallet</strong> allows you to deposit and withdraw funds, as well as receive all information on payments made. A wallet in the Defexa system is set up in the context of the company.</li>
<li><strong>Client</strong> is a payee. Client data can be re-included in the payment.</li>
</ul>
<h5 id='api-2'><strong>API</strong></h5>
<p>Defexa enables external developers to programmatically interact with the service. One way to do this is to use Defexa APIs.</p>
<h5 id='api-access-key-2'><strong>API access key</strong></h5>
<p>The API access key is used to authenticate operations required for making payments and payouts.</p>

<p>If passing incorrect API key in requests to Defexa API, the platform returns an authentication error (HTTP/401).</p>

<p>Please do not share your Defexa API key with anyone!</p>

<p><em>More details on API access keys are available on the Invoice API page.</em></p>
<h3 id='payout-wallets'><strong>Payout wallets</strong></h3>
<p><strong>Hot wallet</strong> is a wallet designed to deposit and withdraw funds by creating a payout. It can be created via interface in Wallets section.</p>
<h5 id='features-5'><strong>Features</strong>:</h5>
<ul>
<li>View a balance</li>
<li>Deposit funds</li>
<li>Withdraw funds</li>
<li>View transactions</li>
<li>View statistics</li>
</ul>
<h5 id='working-with-payout-wallets-via-api'><strong>Working with payout wallets via API:</strong></h5>
<p>Data on wallets and available assets in them can be received by using the method <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/asset/all</strong>;</p>
<h5 id='example'><strong>Example:</strong></h5>
<p>To get a payout wallet address to deposit funds:</p>

<ol>
<li>Send API request <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/asset/all</strong></li>
<li>In the response, find the link for payout in required currency by navigating through the â<strong>currency</strong>â fields in the â<strong>assets</strong>â array</li>
<li>Copy a wallet address for required currency from the field â<strong>address</strong>â and transfer funds to this address</li>
</ol>
<h5 id='creating-payout-via-api'><strong>Creating payout via API</strong></h5>
<ol>
<li>Check wallet balance and ensure enough funds for payouts are available by using the method <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/asset/all</strong>;</li>
<li>Before creating a payout, get a network commission coefficient by using the method <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/fee</strong>. The received value must be passed in the parameter <strong>networkFeeRatio</strong> of the payout creation method.</li>
<li>Create the payout by using the method <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/create</strong>;</li>
<li>Get the data on the payout and its status by using the method <strong>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout</strong>;</li>
</ol>
<h5 id='scheme-of-information-process-interaction'><strong>Scheme of information process interaction</strong></h5>
<p>Below is an example of creating a payout from a clientâs site or application.</p>

<p>Names of requests on the scheme indicate certain payment API methods.</p>

<!-- Sequence Ð¾Ñ Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ñ Ð°ÐºÑÐ¸Ð²Ð¾Ð² Ð´Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÑÐ´ÐµÐ»ÐºÐ¸ -->

<p><img src="images/sequence-deal-3b047bdd.png" width="90%" height="91%" style="margin: 5%"/></p>
<h5 id='payout-statuses'><strong>Payout statuses:</strong></h5>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PENDING_CONFIRMATION</td>
<td>A payout is created via UI and is awaiting confirmation from other process participants.</td>
</tr>
<tr>
<td>CONFIRMED</td>
<td>&#8226; A payout is created via UI and confirmed by other process participants. <br /> &#8226; A payout created via API is automatically created with this status.</td>
</tr>
<tr>
<td>IN_PROGRESS</td>
<td>&#8226; Transaction for a payout is created and is awaiting to be sent to the network. <br /> &#8226;Transaction for a payout is sent to the network to be sent to a block and is awaiting confirmation from nodes.</td>
</tr>
<tr>
<td>COMPLETED</td>
<td>Funds are successfully credited to destination wallet.</td>
</tr>
<tr>
<td>FAILED</td>
<td>An error occurred when sending funds. There can be many reasons of the error. You may follow these remediation steps: <br /> 1. Wait a while and create a new similar payout. <br /> 2. Contact our technical support.</td>
</tr>
<tr>
<td>CANCELED</td>
<td>A payout has been canceled by merchant.</td>
</tr>
</tbody></table>

<p>Diagram nodes indicate payout statuses, arrows indicate processes a successful completion of which transfers a payout from one status to another.</p>

<!-- Payout state machine diagram -->

<p><img src="images/payout_status_diagram-05c28544.png" width="85%" height="80%" style="margin: 5%"/></p>
<h5 id='notifications-about-events'><strong>Notifications about events</strong></h5>
<p>Currently, notifications are displayed only in the Defexa UI in transaction details. There are the following notification types:</p>

<ol>
<li>Price has been changed during a transaction.</li>
<li>There are not enough funds in the account to pay a commission after the payout creation and confirmation.</li>
</ol>
<h5 id='payout-limits'><strong>Payout limits</strong></h5>
<p>Currently, the limit is 10,000 payouts per day. There are no limits for transaction amounts in the total payout amount.</p>
<h5 id='how-long-will-it-take-for-the-funds-to-be-credited-to-the-account'><strong>How long will it take for the funds to be credited to the account?</strong></h5>
<p>When a request is confirmed, some time is required to confirm transactions in the blockchain.</p>

<p>Confirmation time depends on the following factors:</p>

<ul>
<li>Blockchain type and current network load</li>
<li>Specificities of the cryptocurrency provider wallet accepting payments. Since the very last blocks on the blockchain are not considered completely secure, services often wait for additional block confirmations before considering a transaction to be successful and irreversible.</li>
</ul>

<p>Then, it is required to wait for the transaction to complete. The funds will be credited to your wallet shortly.</p>
<h3 id='mass-payouts'><strong>Mass Payouts</strong></h3><h5 id='what-are-mass-payouts'><strong>What are Mass Payouts?</strong></h5>
<p><strong>Mass Payout</strong> is a method of paying up to 10,000 recipients simultaneously. Since mass payouts are submitted online, they are processed instantly which helps organizations to save time, money and resources.</p>
<h5 id='how-does-it-work-3'><strong>How does it work?</strong></h5>
<p>The principle of <strong>Mass Payout</strong> is based on the use of the API:</p>

<ul>
<li>First, the company sends a request for a balance to check if funds are available.</li>
<li>Next, you need to get the network commission coefficient. This value is required to create a request for Mass Payout.</li>
<li>Next, the company sends a request to Defexa Payout API to conduct a Mass Payout.</li>
<li>Next, Defexa handles a request.</li>
<li>Next, Defexa verifies if there are enough funds on the balance.</li>
<li>Next, the funds are sent to the recipients.</li>
</ul>

<p>The Defexa Payout API is great for merchants needing to automate sending payments in real time. The company provides the ability to simultaneously make up to 10,000 payments.</p>

<p>Mass payouts are perfect for sending salaries to subordinates, payouts to partners or e-commerce marketplaces.</p>
<h5 id='how-to-implement-this-via-api-2'><strong>How to implement this via API?</strong></h5>
<p>Below is an example of creating Mass Payout from the clientâs site or application.</p>

<p>Names of requests on the scheme indicate certain payment API methods.</p>

<!-- Sequence Ð¾Ñ Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð°ÐºÑÐ¸Ð²Ð¾Ð² Ð´Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¼Ð°ÑÑÐ¾Ð²Ð¾Ð¹ ÑÐ´ÐµÐ»ÐºÐ¸ -->

<p><img src="images/sequence_mass_deal-83c00684.png" width="85%" height="80%" style="margin: 5%"/></p>
<h5 id='limits'><strong>Limits</strong></h5>
<p>Currently, there is a limit for quantity of transactions in one mass payout:</p>

<ul>
<li>1000 transactions for ETH and tokens ERC-20;</li>
<li>100 transactions for other currencies.</li>
</ul>
<h2 id='references'><strong>References</strong></h2><h5 id='test-account'><strong>Test account</strong></h5>
<p>To test payments and invoices, you can use a particular test account created in the test environment by default.</p>
<h5 id='test-company'><strong>Test company</strong></h5>
<p>The test account is linked to the test company in the test environment. To test the integration with Defexa, you can use the test company credentials.</p>
<h5 id='test-client'><strong>Test client</strong></h5>
<p>To test payouts, you can use test clients created in the test environment by default. Client storage allows you to quickly select the receiver of repeated payouts.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>Example</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="kd">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
      <span class="dl">"</span><span class="s2">nonce</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stateNames</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">pageNumber</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ASC</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">properties</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="kd">const</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;your_api_key&gt;</span><span class="dl">'</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">secretKey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;your_secret_key&gt;</span><span class="dl">'</span>

    <span class="nx">signature</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="nx">secretKey</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">HmacSHA512</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="nx">secretKey</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="nx">crypto</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">hex</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="kd">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
      <span class="dl">'</span><span class="s1">Key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span>
      <span class="dl">'</span><span class="s1">Sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">signature</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="nx">secretKey</span><span class="p">),</span>
      <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
    <span class="p">}</span>

    <span class="nx">request</span><span class="p">({</span>
      <span class="na">url</span><span class="p">:</span> <span class="s2">`https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/all,
      method: 'POST',
      headers: headers,
      json: true,
      body: body
    }, (error, response, body) =&gt; {
      console.log('statusCode:', response &amp;&amp; response.statusCode)
      console.log('body:', body)
    });
</span></code></pre></div><h5 id='create-api-key'>Create API key</h5>
<p>Defexa uses API keys to allow access to the API. You can contact Technical Support to generate a new pair of API keys for you (public and secret keys).</p>
<h5 id='all-requests-must-contain-the-following-headers'>All requests must contain the following headers:</h5>
<table><thead>
<tr>
<th>Header name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>The api key as a string.</td>
</tr>
<tr>
<td>Sign</td>
<td>The HEX-encoded signature (see Signing a Request).</td>
</tr>
<tr>
<td>Content-Type</td>
<td>All request bodies should have content type application/json and be valid JSON.</td>
</tr>
</tbody></table>
<h5 id='signing-a-request'><strong>Signing a Request</strong></h5>
<p><strong>Sign</strong>Â â POST data (in the same format in which you want to send) encrypted with method HMAC-SHA512 using secret key and the result object is converted to a HEX string.</p>

<p>The body is the request body string (in all cases this is JSON stringified request params object).</p>

<p>All the requests should also include the obligatory POST parameterÂ <code>nonce</code>Â with incremental numerical value (&gt;0). The incremental numerical value should never reiterate or decrease.
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
<h1 id='invoice-api'>Invoice API</h1>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PENDING_PAYMENT</td>
<td>&#8226; A new unpaid invoice. <br /> &#8226; Client has transferred funds, but the funds has not yet been credited to the account.</td>
</tr>
<tr>
<td>MEM_POOL_FOUND</td>
<td>Incoming transaction to invoice wallet is found in blockchain mempool.</td>
</tr>
<tr>
<td>PAID</td>
<td>Invoice is paid.</td>
</tr>
<tr>
<td>PENDING_INTERVENTION</td>
<td>&#8226; Intervention from the merchant is awaited. <br /> &#8226; Client transferred insufficient amount. <br /> &#8226; Client has transferred an amount exceeding an invoice amount. <br /> &#8226; Funds were transferred from different client accounts.</td>
</tr>
<tr>
<td>CANCEL</td>
<td>Invoice is canceled by merchant.</td>
</tr>
<tr>
<td>COMPLETED</td>
<td>Funds are transferd to merchant wallet.</td>
</tr>
<tr>
<td>ARCHIVED</td>
<td>Invoce is deleted by merchant.</td>
</tr>
</tbody></table>
<h2 id='get-all-invoices'>Get All Invoices</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/all'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "stateNames": [
      "PENDING_PAYMENT"
    ],
    "typeNames": [
      "SINGLE", "UNLIMITED"
    ],
    "pageNumber": 0,
    "size": 0,
    "direction": "ASC",
    "property": "DATE"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amountInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cartItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"fiatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fiatInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"interventionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERPAY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoicePayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"blockchainTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"notEnoughFundsForTokenFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"notEnoughFundsForTokenFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"toHotWalletHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tokenFeeRequestHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tokenTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"isInterventionResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastDepositHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastFiatUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHIVED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subscriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalDebitAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"upperCommission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalElements"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all invoices.</p>
<h5 id='http-request'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/all</code></p>
<h5 id='header'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.stateNames</td>
<td>array</td>
<td>Yes</td>
<td>specify the status of results to return. [ MEM_POOL_FOUND, PENDING_PAYMENT, PAID, COMPLETED, PENDING_INTERVENTION, CANCEL, ARCHIVED ]</td>
</tr>
<tr>
<td>request.typeNames</td>
<td>array</td>
<td>Yes</td>
<td>type of invoices. [ SINGLE, SINGLE_FIAT, UNLIMITED ]</td>
</tr>
<tr>
<td>request.pageNumber</td>
<td>number</td>
<td>Yes</td>
<td>specify the page of results to return.</td>
</tr>
<tr>
<td>request.size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>request.direction</td>
<td>string</td>
<td>Yes</td>
<td>the direction of this api call which can be asc or desc. [ ASC, DESC ]</td>
</tr>
<tr>
<td>request.property</td>
<td>array</td>
<td>Yes</td>
<td>the attribute by which sorting is performed. [ PAY_AMOUNT, CURRENCY, STATE, DATE ]</td>
</tr>
</tbody></table>
<h5 id='response-body'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>number</td>
<td>Yes</td>
<td>result page number.</td>
</tr>
<tr>
<td>result</td>
<td>array</td>
<td>Yes</td>
<td>this object contains response details.</td>
</tr>
<tr>
<td>result.amount</td>
<td>number</td>
<td>No</td>
<td>represents amount of the invoice.</td>
</tr>
<tr>
<td>result.amountInInvoicewallet</td>
<td>number</td>
<td>Yes</td>
<td>initially set to 0 when creating the invoice. It will be updated with the total amount paid to the invoice.</td>
</tr>
<tr>
<td>result.cartItems</td>
<td>array</td>
<td>Yes</td>
<td>list of line items.</td>
</tr>
<tr>
<td>result.cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>result.cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>result.cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>result.cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>result.createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of invoice creation.</td>
</tr>
<tr>
<td>result.currency</td>
<td>string</td>
<td>Yes</td>
<td>represents the currency of the invoice.</td>
</tr>
<tr>
<td>result.description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>result.expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment.</td>
</tr>
<tr>
<td>result.fee</td>
<td>number</td>
<td>No</td>
<td>this is referenced as &quot;network cost&quot; on an invoice.</td>
</tr>
<tr>
<td>result.fiat</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of the invoice in different fiat currencies.</td>
</tr>
<tr>
<td>result.featAmount</td>
<td>number</td>
<td>No</td>
<td>amount of fiat money set for SINGLE_FIAT_INVOICE</td>
</tr>
<tr>
<td>result.fiatCurrency</td>
<td>string</td>
<td>No</td>
<td>currency of featAmount [ EUR, USD ]</td>
</tr>
<tr>
<td>result.fiatInInvoiceWallet</td>
<td>object</td>
<td>No</td>
<td>actual amount on the invoice wallet in different fiat currencies.</td>
</tr>
<tr>
<td>result.hotWallet</td>
<td>object</td>
<td>No</td>
<td>object with information about wallet where funds from invoice will be transfered</td>
</tr>
<tr>
<td>result.hotWallet.address</td>
<td>string</td>
<td>Yes</td>
<td>address of the hot wallet</td>
</tr>
<tr>
<td>result.hotWallet.name</td>
<td>string</td>
<td>No</td>
<td>name of the hot wallet</td>
</tr>
<tr>
<td>result.id</td>
<td>number</td>
<td>Yes</td>
<td>invoice id.</td>
</tr>
<tr>
<td>result.idempotencyKey</td>
<td>string</td>
<td>Yes</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>result.interventionType</td>
<td>string</td>
<td>No</td>
<td>represents the case of intervention: UNDERPAY - client paid less money than payAmount, OVERPAY - client paid more money than payAmount</td>
</tr>
<tr>
<td>result.invoiceAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>result.invoicePayments</td>
<td>object</td>
<td>No</td>
<td>object with data about withdrawal from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>result.invoicePayments.amount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal</td>
</tr>
<tr>
<td>result.invoicePayments.blockchainTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of transaction fee for the withdrawal</td>
</tr>
<tr>
<td>result.invoicePayments.currency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the withdrawal</td>
</tr>
<tr>
<td>result.invoicePayments.feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the transaction fee for the withdrawal</td>
</tr>
<tr>
<td>result.invoicePayments.hotWallet</td>
<td>object</td>
<td>Yes</td>
<td>address of the hot wallet where transfered money from invoice wallet</td>
</tr>
<tr>
<td>result.invoicePayments.notEnoughFundsForTokenFee</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether enough funds for transaction fee in token withdrawal or not</td>
</tr>
<tr>
<td>result.invoicePayments.notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of required money for transaction fee in token withdrawal</td>
</tr>
<tr>
<td>result.invoicePayments.payAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal money in total (amount + blockchainTransactionFee )</td>
</tr>
<tr>
<td>result.invoicePayments.state</td>
<td>string</td>
<td>Yes</td>
<td>state of the withdrawal [ CANCELED, INIT, MAKE_WITHDRAWAL, PENDING_WITHDRAWAL_ COMPLETED, REQUEST_FOUNDS_FOR_FEE, WITHDRAWAL_COMPLETED ]</td>
</tr>
<tr>
<td>result.invoicePayments.toHotWalletHash</td>
<td>string</td>
<td>Yes</td>
<td>hash of the transaction from invoice wallet to merchant wallet</td>
</tr>
<tr>
<td>result.invoicePayments.tokenFeeRequestHash</td>
<td>string</td>
<td>No</td>
<td>hash of the transaction from merchant wallet to invoice wallet which transfers base currency for token transfer from invoice wallet to merchant wallet. Only for invoices in token currencies</td>
</tr>
<tr>
<td>result.invoicePayments.tokenTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>transaction fee for transferring base currency from merchant wallet to invoice wallet to pay transaction fee for token withdrawal</td>
</tr>
<tr>
<td>result.isInterventionResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the intervention was resolved or not (set by user)</td>
</tr>
<tr>
<td>result.lastDepositHash</td>
<td>string</td>
<td>No</td>
<td>Hash of the last deposit transaction to the invoice</td>
</tr>
<tr>
<td>result.lastFiatUpdated</td>
<td>string</td>
<td>No</td>
<td>time when the exchange rate was updated last time in SINGLE_FIAT invoices</td>
</tr>
<tr>
<td>result.payAmount</td>
<td>number</td>
<td>No</td>
<td>amount of money to pay.</td>
</tr>
<tr>
<td>result.state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the invoice.</td>
</tr>
<tr>
<td>result.logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>result.returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>result.supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>result.totalDebitAmount</td>
<td>number</td>
<td>Yes</td>
<td>the total amount received on the invoice wallet.</td>
</tr>
<tr>
<td>result.type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>result.upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>total</td>
<td>number</td>
<td>Yes</td>
<td>the total number of pages matching the query.</td>
</tr>
<tr>
<td>totalElements</td>
<td>number</td>
<td>Yes</td>
<td>the total number of objects matching the query.</td>
</tr>
</tbody></table>
<h2 id='get-a-specific-invoice'>Get a Specific Invoice</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "id": 0,
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amountInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cartItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fiatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interventionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERPAY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoiceAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoicePayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toHotWalletHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenFeeRequestHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"isInterventionResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastDepositHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastFiatUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHIVED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"supportUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalDebitAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"upperCommission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves a specific invoice.</p>
<h5 id='http-request-2'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice</code></p>
<h5 id='header-2'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-2'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>string</td>
<td>No</td>
<td>the id of the invoice you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
</tbody></table>
<h5 id='response-body-2'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>No</td>
<td>represents amount of the invoice.</td>
</tr>
<tr>
<td>amountInInvoicewallet</td>
<td>number</td>
<td>Yes</td>
<td>initially set to 0 when creating the invoice. It will be updated with the total amount paid to the invoice.</td>
</tr>
<tr>
<td>cartItems</td>
<td>array</td>
<td>Yes</td>
<td>list of line items.</td>
</tr>
<tr>
<td>cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of invoice creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>represents the currency of the invoice.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment.</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>No</td>
<td>this is referenced as &quot;network cost&quot; on an invoice.</td>
</tr>
<tr>
<td>fiat</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of the invoice in different fiat currencies.</td>
</tr>
<tr>
<td>featAmount</td>
<td>number</td>
<td>No</td>
<td>amount of fiat money set for SINGLE_FIAT_INVOICE</td>
</tr>
<tr>
<td>fiatCurrency</td>
<td>string</td>
<td>No</td>
<td>currency of featAmount [ EUR, USD ]</td>
</tr>
<tr>
<td>fiatInInvoiceWallet</td>
<td>object</td>
<td>No</td>
<td>actual amount on the invoice wallet in different fiat currencies.</td>
</tr>
<tr>
<td>hotWallet</td>
<td>object</td>
<td>No</td>
<td>object with information about wallet where funds from invoice will be transfered</td>
</tr>
<tr>
<td>hotWallet.address</td>
<td>string</td>
<td>Yes</td>
<td>address of the hot wallet</td>
</tr>
<tr>
<td>hotWallet.name</td>
<td>string</td>
<td>No</td>
<td>name of the hot wallet</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>invoice id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>Yes</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>interventionType</td>
<td>string</td>
<td>No</td>
<td>represents the case of intervention: UNDERPAY - client paid less money than payAmount, OVERPAY - client paid more money than payAmount</td>
</tr>
<tr>
<td>invoiceAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>invoicePayments</td>
<td>object</td>
<td>No</td>
<td>object with data about withdrawal from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>invoicePayments.amount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal</td>
</tr>
<tr>
<td>invoicePayments.blockchainTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.currency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.hotWallet</td>
<td>object</td>
<td>Yes</td>
<td>address of the hot wallet where transfered money from invoice wallet</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFee</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether enough funds for transaction fee in token withdrawal or not</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of required money for transaction fee in token withdrawal</td>
</tr>
<tr>
<td>invoicePayments.payAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal money in total (amount + blockchainTransactionFee )</td>
</tr>
<tr>
<td>invoicePayments.state</td>
<td>string</td>
<td>Yes</td>
<td>state of the withdrawal [ CANCELED, INIT, MAKE_WITHDRAWAL, PENDING_WITHDRAWAL_ COMPLETED, REQUEST_FOUNDS_FOR_FEE, WITHDRAWAL_COMPLETED ]</td>
</tr>
<tr>
<td>invoicePayments.toHotWalletHash</td>
<td>string</td>
<td>Yes</td>
<td>hash of the transaction from invoice wallet to merchant wallet</td>
</tr>
<tr>
<td>invoicePayments.tokenFeeRequestHash</td>
<td>string</td>
<td>No</td>
<td>hash of the transaction from merchant wallet to invoice wallet which transfers base currency for token transfer from invoice wallet to merchant wallet. Only for invoices in token currencies</td>
</tr>
<tr>
<td>invoicePayments.tokenTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>transaction fee for transferring base currency from merchant wallet to invoice wallet to pay transaction fee for token withdrawal</td>
</tr>
<tr>
<td>isInterventionResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the intervention was resolved or not (set by user)</td>
</tr>
<tr>
<td>lastDepositHash</td>
<td>string</td>
<td>No</td>
<td>Hash of the last deposit transaction to the invoice</td>
</tr>
<tr>
<td>lastFiatUpdated</td>
<td>string</td>
<td>No</td>
<td>time when the exchange rate was updated last time in SINGLE_FIAT invoices</td>
</tr>
<tr>
<td>payAmount</td>
<td>number</td>
<td>No</td>
<td>amount of money to pay.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the invoice.</td>
</tr>
<tr>
<td>logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>totalDebitAmount</td>
<td>number</td>
<td>Yes</td>
<td>the total amount received on the invoice wallet.</td>
</tr>
<tr>
<td>type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
</tbody></table>
<h2 id='new-invoice'>New Invoice</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "amount": 0,
    "expiration": "2022-07-19T08:30Z",
    "currency": "BTC",
    "description": "string",
    "type": "SINGLE",
    "cartItems": [
      {
        "currency": "BTC",
        "price": 0,
        "product": "string",
        "quantity": 0
      }
    ],
    "hotWalletAddress": "string",
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "logoUrl": "string",
    "returnUrl": "string",
    "supportUrl": "string",
    "type": "SINGLE",
    "upperCommission": true
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amountInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cartItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fiatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interventionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERPAY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoiceAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoicePayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toHotWalletHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenFeeRequestHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"isInterventionResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastDepositHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastFiatUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHIVED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"supportUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalDebitAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"upperCommission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates a new invoice.</p>
<h5 id='http-request-3'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/create</code></p>
<h5 id='header-3'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-3'>Request Body</h5>
<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.fiatAmount</td>
<td>number</td>
<td>No</td>
<td>total invoice amount in fiat currency. Required for SINGLE_FIAT invoices.</td>
</tr>
<tr>
<td>request.fiatCurrency</td>
<td>strint</td>
<td>No</td>
<td>received fiat currency. [ USD, EUR, RUB, UAH, KZT ]. Required for SINGLE_FIAT invoices.</td>
</tr>
<tr>
<td>request.amount</td>
<td>number</td>
<td>No</td>
<td>total invoice amount. Required for SINGLE and SINGLE_FIAT invoices.</td>
</tr>
<tr>
<td>request.expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment. 15 days is default value.</td>
</tr>
<tr>
<td>request.currency</td>
<td>string</td>
<td>Yes</td>
<td>received blockchain currency. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>request.description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>request.type</td>
<td>string</td>
<td>Yes</td>
<td>invoice type. [ SINGLE, SINGLE_FIAT, UNLIMITED ]</td>
</tr>
<tr>
<td>request.cartItems</td>
<td>object</td>
<td>No</td>
<td>shopping cart.</td>
</tr>
<tr>
<td>request.cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>request.cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>request.cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>request.cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>request.hotWalletAddress</td>
<td>string</td>
<td>No</td>
<td>merchant crypto address where the funds will be transferred to. Required for SINGLE and SINGLE_FIAT invoices.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>request.logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>request.returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>request.supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>request.type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>request.upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
</tbody></table>
<h5 id='response-body-3'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>No</td>
<td>represents amount of the invoice.</td>
</tr>
<tr>
<td>amountInInvoicewallet</td>
<td>number</td>
<td>Yes</td>
<td>initially set to 0 when creating the invoice. It will be updated with the total amount paid to the invoice.</td>
</tr>
<tr>
<td>cartItems</td>
<td>array</td>
<td>Yes</td>
<td>list of line items.</td>
</tr>
<tr>
<td>cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of invoice creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>represents the currency of the invoice.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment.</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>No</td>
<td>this is referenced as &quot;network cost&quot; on an invoice.</td>
</tr>
<tr>
<td>fiat</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of the invoice in different fiat currencies.</td>
</tr>
<tr>
<td>featAmount</td>
<td>number</td>
<td>No</td>
<td>amount of fiat money set for SINGLE_FIAT_INVOICE</td>
</tr>
<tr>
<td>fiatCurrency</td>
<td>string</td>
<td>No</td>
<td>currency of featAmount [ EUR, USD ]</td>
</tr>
<tr>
<td>fiatInInvoiceWallet</td>
<td>object</td>
<td>No</td>
<td>actual amount on the invoice wallet in different fiat currencies.</td>
</tr>
<tr>
<td>hotWallet</td>
<td>object</td>
<td>No</td>
<td>object with information about wallet where funds from invoice will be transfered</td>
</tr>
<tr>
<td>hotWallet.address</td>
<td>string</td>
<td>Yes</td>
<td>address of the hot wallet</td>
</tr>
<tr>
<td>hotWallet.name</td>
<td>string</td>
<td>No</td>
<td>name of the hot wallet</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>invoice id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>Yes</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>interventionType</td>
<td>string</td>
<td>No</td>
<td>represents the case of intervention: UNDERPAY - client paid less money than payAmount, OVERPAY - client paid more money than payAmount</td>
</tr>
<tr>
<td>invoiceAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>invoicePayments</td>
<td>object</td>
<td>No</td>
<td>object with data about withdrawal from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>invoicePayments.amount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal</td>
</tr>
<tr>
<td>invoicePayments.blockchainTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.currency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.hotWallet</td>
<td>object</td>
<td>Yes</td>
<td>address of the hot wallet where transfered money from invoice wallet</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFee</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether enough funds for transaction fee in token withdrawal or not</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of required money for transaction fee in token withdrawal</td>
</tr>
<tr>
<td>invoicePayments.payAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal money in total (amount + blockchainTransactionFee )</td>
</tr>
<tr>
<td>invoicePayments.state</td>
<td>string</td>
<td>Yes</td>
<td>state of the withdrawal [ CANCELED, INIT, MAKE_WITHDRAWAL, PENDING_WITHDRAWAL_ COMPLETED, REQUEST_FOUNDS_FOR_FEE, WITHDRAWAL_COMPLETED ]</td>
</tr>
<tr>
<td>invoicePayments.toHotWalletHash</td>
<td>string</td>
<td>Yes</td>
<td>hash of the transaction from invoice wallet to merchant wallet</td>
</tr>
<tr>
<td>invoicePayments.tokenFeeRequestHash</td>
<td>string</td>
<td>No</td>
<td>hash of the transaction from merchant wallet to invoice wallet which transfers base currency for token transfer from invoice wallet to merchant wallet. Only for invoices in token currencies</td>
</tr>
<tr>
<td>invoicePayments.tokenTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>transaction fee for transferring base currency from merchant wallet to invoice wallet to pay transaction fee for token withdrawal</td>
</tr>
<tr>
<td>isInterventionResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the intervention was resolved or not (set by user)</td>
</tr>
<tr>
<td>lastDepositHash</td>
<td>string</td>
<td>No</td>
<td>Hash of the last deposit transaction to the invoice</td>
</tr>
<tr>
<td>lastFiatUpdated</td>
<td>string</td>
<td>No</td>
<td>time when the exchange rate was updated last time in SINGLE_FIAT invoices</td>
</tr>
<tr>
<td>payAmount</td>
<td>number</td>
<td>No</td>
<td>amount of money to pay.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the invoice.</td>
</tr>
<tr>
<td>logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>totalDebitAmount</td>
<td>number</td>
<td>Yes</td>
<td>the total amount received on the invoice wallet.</td>
</tr>
<tr>
<td>type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
</tbody></table>
<h2 id='funds-withdrawal-from-unlimited-invoice'>Funds Withdrawal (from unlimited invoice)</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/unlimited/withdrawal'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "hotWalletAddress": "string",
    "id": 0,
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amountInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cartItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fiatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interventionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERPAY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoiceAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoicePayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toHotWalletHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenFeeRequestHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"isInterventionResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastDepositHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastFiatUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHIVED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"supportUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalDebitAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"upperCommission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint allow withdraw funds to internal crypto address.</p>
<h5 id='http-request-4'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/unlimited/withdrawal</code></p>
<h5 id='header-4'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-4'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.hotWalletAddress</td>
<td>string</td>
<td>Yes</td>
<td>the wallet address where the funds will be transferred to</td>
</tr>
<tr>
<td>request.id</td>
<td>string</td>
<td>Yes</td>
<td>the id of the invoice you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
</tbody></table>
<h5 id='response-body-4'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>No</td>
<td>represents amount of the invoice.</td>
</tr>
<tr>
<td>amountInInvoicewallet</td>
<td>number</td>
<td>Yes</td>
<td>initially set to 0 when creating the invoice. It will be updated with the total amount paid to the invoice.</td>
</tr>
<tr>
<td>cartItems</td>
<td>array</td>
<td>Yes</td>
<td>list of line items.</td>
</tr>
<tr>
<td>cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of invoice creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>represents the currency of the invoice.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment.</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>No</td>
<td>this is referenced as &quot;network cost&quot; on an invoice.</td>
</tr>
<tr>
<td>fiat</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of the invoice in different fiat currencies.</td>
</tr>
<tr>
<td>featAmount</td>
<td>number</td>
<td>No</td>
<td>amount of fiat money set for SINGLE_FIAT_INVOICE</td>
</tr>
<tr>
<td>fiatCurrency</td>
<td>string</td>
<td>No</td>
<td>currency of featAmount [ EUR, USD ]</td>
</tr>
<tr>
<td>fiatInInvoiceWallet</td>
<td>object</td>
<td>No</td>
<td>actual amount on the invoice wallet in different fiat currencies.</td>
</tr>
<tr>
<td>hotWallet</td>
<td>object</td>
<td>No</td>
<td>object with information about wallet where funds from invoice will be transfered</td>
</tr>
<tr>
<td>hotWallet.address</td>
<td>string</td>
<td>Yes</td>
<td>address of the hot wallet</td>
</tr>
<tr>
<td>hotWallet.name</td>
<td>string</td>
<td>No</td>
<td>name of the hot wallet</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>invoice id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>Yes</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>interventionType</td>
<td>string</td>
<td>No</td>
<td>represents the case of intervention: UNDERPAY - client paid less money than payAmount, OVERPAY - client paid more money than payAmount</td>
</tr>
<tr>
<td>invoiceAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>invoicePayments</td>
<td>object</td>
<td>No</td>
<td>object with data about withdrawal from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>invoicePayments.amount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal</td>
</tr>
<tr>
<td>invoicePayments.blockchainTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.currency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.hotWallet</td>
<td>object</td>
<td>Yes</td>
<td>address of the hot wallet where transfered money from invoice wallet</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFee</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether enough funds for transaction fee in token withdrawal or not</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of required money for transaction fee in token withdrawal</td>
</tr>
<tr>
<td>invoicePayments.payAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal money in total (amount + blockchainTransactionFee )</td>
</tr>
<tr>
<td>invoicePayments.state</td>
<td>string</td>
<td>Yes</td>
<td>state of the withdrawal [ CANCELED, INIT, MAKE_WITHDRAWAL, PENDING_WITHDRAWAL_ COMPLETED, REQUEST_FOUNDS_FOR_FEE, WITHDRAWAL_COMPLETED ]</td>
</tr>
<tr>
<td>invoicePayments.toHotWalletHash</td>
<td>string</td>
<td>Yes</td>
<td>hash of the transaction from invoice wallet to merchant wallet</td>
</tr>
<tr>
<td>invoicePayments.tokenFeeRequestHash</td>
<td>string</td>
<td>No</td>
<td>hash of the transaction from merchant wallet to invoice wallet which transfers base currency for token transfer from invoice wallet to merchant wallet. Only for invoices in token currencies</td>
</tr>
<tr>
<td>invoicePayments.tokenTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>transaction fee for transferring base currency from merchant wallet to invoice wallet to pay transaction fee for token withdrawal</td>
</tr>
<tr>
<td>isInterventionResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the intervention was resolved or not (set by user)</td>
</tr>
<tr>
<td>lastDepositHash</td>
<td>string</td>
<td>No</td>
<td>Hash of the last deposit transaction to the invoice</td>
</tr>
<tr>
<td>lastFiatUpdated</td>
<td>string</td>
<td>No</td>
<td>time when the exchange rate was updated last time in SINGLE_FIAT invoices</td>
</tr>
<tr>
<td>payAmount</td>
<td>number</td>
<td>No</td>
<td>amount of money to pay.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the invoice.</td>
</tr>
<tr>
<td>logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>totalDebitAmount</td>
<td>number</td>
<td>Yes</td>
<td>the total amount received on the invoice wallet.</td>
</tr>
<tr>
<td>type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
</tbody></table>
<h2 id='generate-reusable-api-key'>Generate reusable api key</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/reusable-key-service'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "expirationDate": "2022-02-10T11:04:24.435Z",
    "quantity": 1
    }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-10T11:04:24.435Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;reusable_api_key&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint allows to create reusable api key for payment widget</p>
<h5 id='http-request-5'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/reusable-key-service</code></p>
<h5 id='header-5'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-5'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.expirationDate</td>
<td>string</td>
<td>Yes</td>
<td>The date until which the key is valid</td>
</tr>
<tr>
<td>request.quantity</td>
<td>number</td>
<td>No</td>
<td>limit of uasage the created api key. If not define, the quantity equals 1 as default</td>
</tr>
</tbody></table>
<h5 id='response-body-5'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>expirationDate</td>
<td>string</td>
<td>Yes</td>
<td>The date until which the key is valid</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Yes</td>
<td>generated reusable api key</td>
</tr>
<tr>
<td>quantity</td>
<td>number</td>
<td>No</td>
<td>limit of uasage the created api key. If not define, the created api key is unlimited</td>
</tr>
</tbody></table>
<h2 id='mark-that-intervention-is-relolved-in-invoice'>Mark that intervention is relolved in invoice</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/close-intervention'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "id": 0,
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amountInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cartItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fiatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interventionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERPAY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoiceAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoicePayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toHotWalletHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenFeeRequestHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"isInterventionResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastDepositHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastFiatUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHIVED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"supportUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalDebitAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"upperCommission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint changes the value isInterventionResolved to true. The invoice must be in state COMPLETED.</p>
<h5 id='http-request-6'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/close-intervention</code></p>
<h5 id='header-6'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-6'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>string</td>
<td>No</td>
<td>the id of the invoice you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
</tbody></table>
<h5 id='response-body-6'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>No</td>
<td>represents amount of the invoice.</td>
</tr>
<tr>
<td>amountInInvoicewallet</td>
<td>number</td>
<td>Yes</td>
<td>initially set to 0 when creating the invoice. It will be updated with the total amount paid to the invoice.</td>
</tr>
<tr>
<td>cartItems</td>
<td>array</td>
<td>Yes</td>
<td>list of line items.</td>
</tr>
<tr>
<td>cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of invoice creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>represents the currency of the invoice.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment.</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>No</td>
<td>this is referenced as &quot;network cost&quot; on an invoice.</td>
</tr>
<tr>
<td>fiat</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of the invoice in different fiat currencies.</td>
</tr>
<tr>
<td>featAmount</td>
<td>number</td>
<td>No</td>
<td>amount of fiat money set for SINGLE_FIAT_INVOICE</td>
</tr>
<tr>
<td>fiatCurrency</td>
<td>string</td>
<td>No</td>
<td>currency of featAmount [ EUR, USD ]</td>
</tr>
<tr>
<td>fiatInInvoiceWallet</td>
<td>object</td>
<td>No</td>
<td>actual amount on the invoice wallet in different fiat currencies.</td>
</tr>
<tr>
<td>hotWallet</td>
<td>object</td>
<td>No</td>
<td>object with information about wallet where funds from invoice will be transfered</td>
</tr>
<tr>
<td>hotWallet.address</td>
<td>string</td>
<td>Yes</td>
<td>address of the hot wallet</td>
</tr>
<tr>
<td>hotWallet.name</td>
<td>string</td>
<td>No</td>
<td>name of the hot wallet</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>invoice id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>Yes</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>interventionType</td>
<td>string</td>
<td>No</td>
<td>represents the case of intervention: UNDERPAY - client paid less money than payAmount, OVERPAY - client paid more money than payAmount</td>
</tr>
<tr>
<td>invoiceAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>invoicePayments</td>
<td>object</td>
<td>No</td>
<td>object with data about withdrawal from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>invoicePayments.amount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal</td>
</tr>
<tr>
<td>invoicePayments.blockchainTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.currency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.hotWallet</td>
<td>object</td>
<td>Yes</td>
<td>address of the hot wallet where transfered money from invoice wallet</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFee</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether enough funds for transaction fee in token withdrawal or not</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of required money for transaction fee in token withdrawal</td>
</tr>
<tr>
<td>invoicePayments.payAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal money in total (amount + blockchainTransactionFee )</td>
</tr>
<tr>
<td>invoicePayments.state</td>
<td>string</td>
<td>Yes</td>
<td>state of the withdrawal [ CANCELED, INIT, MAKE_WITHDRAWAL, PENDING_WITHDRAWAL_ COMPLETED, REQUEST_FOUNDS_FOR_FEE, WITHDRAWAL_COMPLETED ]</td>
</tr>
<tr>
<td>invoicePayments.toHotWalletHash</td>
<td>string</td>
<td>Yes</td>
<td>hash of the transaction from invoice wallet to merchant wallet</td>
</tr>
<tr>
<td>invoicePayments.tokenFeeRequestHash</td>
<td>string</td>
<td>No</td>
<td>hash of the transaction from merchant wallet to invoice wallet which transfers base currency for token transfer from invoice wallet to merchant wallet. Only for invoices in token currencies</td>
</tr>
<tr>
<td>invoicePayments.tokenTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>transaction fee for transferring base currency from merchant wallet to invoice wallet to pay transaction fee for token withdrawal</td>
</tr>
<tr>
<td>isInterventionResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the intervention was resolved or not (set by user)</td>
</tr>
<tr>
<td>lastDepositHash</td>
<td>string</td>
<td>No</td>
<td>Hash of the last deposit transaction to the invoice</td>
</tr>
<tr>
<td>lastFiatUpdated</td>
<td>string</td>
<td>No</td>
<td>time when the exchange rate was updated last time in SINGLE_FIAT invoices</td>
</tr>
<tr>
<td>payAmount</td>
<td>number</td>
<td>No</td>
<td>amount of money to pay.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the invoice.</td>
</tr>
<tr>
<td>logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>totalDebitAmount</td>
<td>number</td>
<td>Yes</td>
<td>the total amount received on the invoice wallet.</td>
</tr>
<tr>
<td>type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
</tbody></table>
<h2 id='resolve-intervention-and-receive-money-to-the-wallet'>Resolve intervention and receive money to the wallet</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/return-to-paid'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "id": 0,
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amountInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cartItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fiatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fiatInInvoiceWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interventionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERPAY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoiceAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoicePayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hotWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notEnoughFundsForTokenFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toHotWalletHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenFeeRequestHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tokenTransactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"isInterventionResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastDepositHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastFiatUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-27T14:24:14.955Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHIVED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"supportUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalDebitAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"upperCommission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint allows to transfer money from invoice in internvention to merchant wallet.</p>
<h5 id='http-request-7'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/invoice/return-to-paid</code></p>
<h5 id='header-7'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-7'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>string</td>
<td>No</td>
<td>the id of the invoice you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
</tbody></table>
<h5 id='response-body-7'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>No</td>
<td>represents amount of the invoice.</td>
</tr>
<tr>
<td>amountInInvoicewallet</td>
<td>number</td>
<td>Yes</td>
<td>initially set to 0 when creating the invoice. It will be updated with the total amount paid to the invoice.</td>
</tr>
<tr>
<td>cartItems</td>
<td>array</td>
<td>Yes</td>
<td>list of line items.</td>
</tr>
<tr>
<td>cartItems.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the price field. [ BTC, ETH, BNB, USDT, BUSD_ETH, DAI, FRAX, TRX, USDT_TRX, XDG, USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>cartItems.price</td>
<td>number</td>
<td>Yes</td>
<td>price of this unit.</td>
</tr>
<tr>
<td>cartItems.product</td>
<td>string</td>
<td>Yes</td>
<td>name of this unit.</td>
</tr>
<tr>
<td>cartItems.quantity</td>
<td>number</td>
<td>Yes</td>
<td>line item number of units.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of invoice creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>represents the currency of the invoice.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>short invoice description.</td>
</tr>
<tr>
<td>expiration</td>
<td>string</td>
<td>No</td>
<td>represents server timestamp of invoice expiration moment.</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>No</td>
<td>this is referenced as &quot;network cost&quot; on an invoice.</td>
</tr>
<tr>
<td>fiat</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of the invoice in different fiat currencies.</td>
</tr>
<tr>
<td>featAmount</td>
<td>number</td>
<td>No</td>
<td>amount of fiat money set for SINGLE_FIAT_INVOICE</td>
</tr>
<tr>
<td>fiatCurrency</td>
<td>string</td>
<td>No</td>
<td>currency of featAmount [ EUR, USD ]</td>
</tr>
<tr>
<td>fiatInInvoiceWallet</td>
<td>object</td>
<td>No</td>
<td>actual amount on the invoice wallet in different fiat currencies.</td>
</tr>
<tr>
<td>hotWallet</td>
<td>object</td>
<td>No</td>
<td>object with information about wallet where funds from invoice will be transfered</td>
</tr>
<tr>
<td>hotWallet.address</td>
<td>string</td>
<td>Yes</td>
<td>address of the hot wallet</td>
</tr>
<tr>
<td>hotWallet.name</td>
<td>string</td>
<td>No</td>
<td>name of the hot wallet</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>invoice id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>Yes</td>
<td>the external id that can be generated by user while creating the invoice</td>
</tr>
<tr>
<td>interventionType</td>
<td>string</td>
<td>No</td>
<td>represents the case of intervention: UNDERPAY - client paid less money than payAmount, OVERPAY - client paid more money than payAmount</td>
</tr>
<tr>
<td>invoiceAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>invoicePayments</td>
<td>object</td>
<td>No</td>
<td>object with data about withdrawal from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>invoicePayments.amount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal</td>
</tr>
<tr>
<td>invoicePayments.blockchainTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.currency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>currency of the transaction fee for the withdrawal</td>
</tr>
<tr>
<td>invoicePayments.hotWallet</td>
<td>object</td>
<td>Yes</td>
<td>address of the hot wallet where transfered money from invoice wallet</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFee</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether enough funds for transaction fee in token withdrawal or not</td>
</tr>
<tr>
<td>invoicePayments.notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of required money for transaction fee in token withdrawal</td>
</tr>
<tr>
<td>invoicePayments.payAmount</td>
<td>number</td>
<td>Yes</td>
<td>amount of withdrawal money in total (amount + blockchainTransactionFee )</td>
</tr>
<tr>
<td>invoicePayments.state</td>
<td>string</td>
<td>Yes</td>
<td>state of the withdrawal [ CANCELED, INIT, MAKE_WITHDRAWAL, PENDING_WITHDRAWAL_ COMPLETED, REQUEST_FOUNDS_FOR_FEE, WITHDRAWAL_COMPLETED ]</td>
</tr>
<tr>
<td>invoicePayments.toHotWalletHash</td>
<td>string</td>
<td>Yes</td>
<td>hash of the transaction from invoice wallet to merchant wallet</td>
</tr>
<tr>
<td>invoicePayments.tokenFeeRequestHash</td>
<td>string</td>
<td>No</td>
<td>hash of the transaction from merchant wallet to invoice wallet which transfers base currency for token transfer from invoice wallet to merchant wallet. Only for invoices in token currencies</td>
</tr>
<tr>
<td>invoicePayments.tokenTransactionFee</td>
<td>number</td>
<td>Yes</td>
<td>transaction fee for transferring base currency from merchant wallet to invoice wallet to pay transaction fee for token withdrawal</td>
</tr>
<tr>
<td>isInterventionResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the intervention was resolved or not (set by user)</td>
</tr>
<tr>
<td>lastDepositHash</td>
<td>string</td>
<td>No</td>
<td>Hash of the last deposit transaction to the invoice</td>
</tr>
<tr>
<td>lastFiatUpdated</td>
<td>string</td>
<td>No</td>
<td>time when the exchange rate was updated last time in SINGLE_FIAT invoices</td>
</tr>
<tr>
<td>payAmount</td>
<td>number</td>
<td>No</td>
<td>amount of money to pay.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the invoice.</td>
</tr>
<tr>
<td>logoUrl</td>
<td>string</td>
<td>No</td>
<td>link to the logo of merchant which will be shown in the payment link (page with invoice data for payment). The logo must be in PNG format. Recommended size 100*24 px</td>
</tr>
<tr>
<td>returnUrl</td>
<td>string</td>
<td>No</td>
<td>link to the web page where client can come back to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>supportUrl</td>
<td>string</td>
<td>No</td>
<td>link to the merchant support page where client can go to from payment link (page with invoice data for payment)</td>
</tr>
<tr>
<td>totalDebitAmount</td>
<td>number</td>
<td>Yes</td>
<td>the total amount received on the invoice wallet.</td>
</tr>
<tr>
<td>type</td>
<td>sring</td>
<td>Yes</td>
<td>the type of the invoice. SINGLE - allows to recieve one payment in crypto-currency. SINGLE_FIAT - allows to recieve one payment in crypto-currency but amount to pay is set in fiat currency. UNLIMITED - allows to receive unlimited amount of payments in crypto-currency</td>
</tr>
<tr>
<td>upperCommission</td>
<td>boolean</td>
<td>No</td>
<td>defines whether network transaction fee for transfer from invoice wallet to your wallet will be  substracted from transfer amount (false) or not (true). true is by default.</td>
</tr>
</tbody></table>
<h1 id='payout-api'>Payout API</h1>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PENDING_CONFIRMATION</td>
<td>A payout is created via UI and is awaiting confirmation from other process participants.</td>
</tr>
<tr>
<td>CONFIRMED</td>
<td>&#8226; A payout is created via UI and confirmed by other process participants. <br /> &#8226; A payout created via API is automatically created with this status.</td>
</tr>
<tr>
<td>IN_PROGRESS</td>
<td>&#8226; Transaction for a payout is created and is awaiting to be sent to the network. <br /> &#8226;Transaction for a payout is sent to the network to be sent to a block and is awaiting confirmation from nodes.</td>
</tr>
<tr>
<td>COMPLETED</td>
<td>Funds are successfully credited to destination wallet.</td>
</tr>
<tr>
<td>FAILED</td>
<td>An error occurred when sending funds. There can be many reasonsof the error. You may follow these remediation steps: <br /> 1. Wait a while and create a new similar payout. <br /> 2. Contact our technical support.</td>
</tr>
<tr>
<td>CANCELED</td>
<td>A payout has been canceled by merchant.</td>
</tr>
</tbody></table>
<h2 id='get-assets-and-wallet-addresses'>Get Assets And Wallet Addresses</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/asset/all"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalInFiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"wallets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amountInFiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"overallBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"totalInFiat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"totalInPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"additionalProp1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additionalProp2"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additionalProp3"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all assets and wallet addresses.</p>
<h5 id='http-request'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/asset/all</code></p>
<h5 id='header'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
</tbody></table>
<h5 id='response-body'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>Yes</td>
<td>this object contains detailed information about assets.</td>
</tr>
<tr>
<td>assets.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>assets.isToken</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether the wallet is used for token currency or not.</td>
</tr>
<tr>
<td>assets.total</td>
<td>number</td>
<td>Yes</td>
<td>total amount of funds in all wallets in crypto currency</td>
</tr>
<tr>
<td>assets.totalInFiat</td>
<td>object</td>
<td>Yes</td>
<td>total amount of funds in all wallets in fiat currency</td>
</tr>
<tr>
<td>assets.totalInFiat.{currency}</td>
<td>number</td>
<td>Yes</td>
<td>total amount of funds in all wallets in particular fiat currency</td>
</tr>
<tr>
<td>assets.wallets</td>
<td>array</td>
<td>Yes</td>
<td>array of wallet objects</td>
</tr>
<tr>
<td>assets.wallets.address</td>
<td>string</td>
<td>Yes</td>
<td>crypto address of wallet.</td>
</tr>
<tr>
<td>assets.wallets.amount</td>
<td>number</td>
<td>Yes</td>
<td>current wallet available balance.</td>
</tr>
<tr>
<td>assets.wallets.amountInFiat</td>
<td>object</td>
<td>Yes</td>
<td>amount of the account in different fiat currencies.</td>
</tr>
<tr>
<td>assets.wallets.amountInFiat.{currency}</td>
<td>number</td>
<td>Yes</td>
<td>this is the fiat currency associated with the amount field. [ USD, EUR, RUB, UAH, KZT ]</td>
</tr>
<tr>
<td>assets.wallets.currency</td>
<td>string</td>
<td>No</td>
<td>this is the currency associated with the amount field of wallet.</td>
</tr>
<tr>
<td>assets.wallets.name</td>
<td>string</td>
<td>Yes</td>
<td>the wallet name.</td>
</tr>
<tr>
<td>overallBalance</td>
<td>object</td>
<td>Yes</td>
<td>object with information about the total balance</td>
</tr>
<tr>
<td>overallBalance.totalInFiat</td>
<td>object</td>
<td>Yes</td>
<td>the total balance in different fiat currencies.</td>
</tr>
<tr>
<td>overallBalance.totalInFiat.{currency}</td>
<td>number</td>
<td>Yes</td>
<td>the total balance in particular fiat currencies.</td>
</tr>
<tr>
<td>overallBalance.totalInPercentage</td>
<td>object</td>
<td>Yes</td>
<td>the total balance in percentage of crypto currencies.</td>
</tr>
<tr>
<td>overallBalance.totalInPercentage.{currency}</td>
<td>number</td>
<td>Yes</td>
<td>the total balance in percentage of particular crypto currency.</td>
</tr>
</tbody></table>
<h2 id='new-payout'>New Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "withdrawalAddress": "string",
    "clientAddress": "string",
    "amount": 0,
    "currency": "ETH",
    "executionDate": "2022-02-21T13:46:15.823Z",
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "networkFeeRatio": 0,
    "comment": "string"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-02T14:58:01.631Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-21T13:50:25.814Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING_CONFIRMATION"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates a new payout.</p>
<h5 id='http-request-2'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/create</code></p>
<h5 id='header-2'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-2'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.withdrawalAddress</td>
<td>string</td>
<td>Yes</td>
<td>sender&#39;s cryptoaddress.</td>
</tr>
<tr>
<td>request.clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>recipient&#39;s crypto-address.</td>
</tr>
<tr>
<td>request.amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>request.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>request.networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>request.comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>request.executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Can be used for payouts to date</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h5 id='response-body-2'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>payout id</td>
</tr>
<tr>
<td>networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>networkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed payout amount to calculate the commission amount.</td>
</tr>
<tr>
<td>networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h2 id='get-specific-payout'>Get Specific Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span><span class="nb">id</span><span class="s2">": 0,
    "</span>idempotencyKey<span class="s2">": "</span>3fa85f64-5717-4562-b3fc-2c963f66afa6<span class="s2">"
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-02T15:13:22.364Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-21T13:50:25.814Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING_CONFIRMATION"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves a specific payout.</p>
<h5 id='http-request-3'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout</code></p>
<h5 id='header-3'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-3'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>OBJECT</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>NUMBER</td>
<td>Yes</td>
<td>The id of the payout you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h5 id='response-body-3'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>payout id</td>
</tr>
<tr>
<td>networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>networkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed payout amount to calculate the commission amount.</td>
</tr>
<tr>
<td>networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h2 id='get-all-payouts'>Get All Payouts</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/all"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span>stateNames<span class="s2">": [ 
        "</span>PENDING_CONFIRMATION<span class="s2">" 
      ],
    "</span>size<span class="s2">": 0,
    "</span>pageNumber<span class="s2">": 0,
    "</span>isExecutionDateInFuture<span class="s2">": true
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">  
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-02T15:13:22.364Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-21T13:50:25.814Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING_CONFIRMATION"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalElements"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all payouts.</p>
<h5 id='http-request-4'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/all</code></p>
<h5 id='header-4'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-4'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.stateNames</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>request.pageNumber</td>
<td>number</td>
<td>Yes</td>
<td>specify the page of results to return.</td>
</tr>
<tr>
<td>request.size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>request.isExecutionDateInFuture</td>
<td>boolean</td>
<td>No</td>
<td>if true includes all payouts where execution date in future. if false includes all payouts where execution date in past. if null includes all payouts</td>
</tr>
</tbody></table>
<h5 id='response-body-4'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>array</td>
<td>Yes</td>
<td>this object contains response details.</td>
</tr>
<tr>
<td>result.amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>result.clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>result.comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>result.createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>result.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>result.errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>result.executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>result.hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>result.id</td>
<td>number</td>
<td>Yes</td>
<td>payout id</td>
</tr>
<tr>
<td>result.networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>result.networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>result.networkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed payout amount to calculate the commission amount.</td>
</tr>
<tr>
<td>result.networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>result.state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>result.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
<tr>
<td>page</td>
<td>number</td>
<td>Yes</td>
<td>result page number.</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>total</td>
<td>number</td>
<td>Yes</td>
<td>the total number of pages matching the query.</td>
</tr>
<tr>
<td>totalElements</td>
<td>number</td>
<td>Yes</td>
<td>the total number of objects matching the query.</td>
</tr>
</tbody></table>
<h2 id='new-mass-payout'>New Mass Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/mass/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "name": "string",
    "comment": "string",
    "executionDate": "2022-02-21T13:40:37.786Z",
    "dealWithdrawals": [
      {
        "withdrawalAddress": "string",
        "clientAddress": "string",
        "amount": 0,
        "currency": "BTC",
        "externalId": "string",
        "networkFeeRatio": 0,
        "comment": "string"
      }
    ],
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-03T07:41:59.795Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-21T13:50:25.814Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING_CONFIRMATION"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalNetworkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalNetworkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalWithdrawalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates a new mass payout.</p>
<h5 id='http-request-5'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/mass/create</code></p>
<h5 id='header-5'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-5'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.name</td>
<td>string</td>
<td>Yes</td>
<td>mass payout name.</td>
</tr>
<tr>
<td>request.comment</td>
<td>string</td>
<td>No</td>
<td>comment for the mass payout.</td>
</tr>
<tr>
<td>request.executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Can be used for payouts to date</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
<tr>
<td>request.dealWithdrawals</td>
<td>array</td>
<td>Yes</td>
<td>this object contains mass payout transactions.</td>
</tr>
<tr>
<td>request.dealWithdrawals.withdrawalAddress</td>
<td>string</td>
<td>Yes</td>
<td>sender&#39;s crypto-address.</td>
</tr>
<tr>
<td>request.dealWithdrawals.clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>recipient&#39;s crypto-address.</td>
</tr>
<tr>
<td>request.dealWithdrawals.amount</td>
<td>number</td>
<td>Yes</td>
<td>transaction amount.</td>
</tr>
<tr>
<td>request.dealWithdrawals.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>request.dealWithdrawals.networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>request.dealWithdrawals.comment</td>
<td>string</td>
<td>Yes</td>
<td>comment for the withdrawal transaction.</td>
</tr>
<tr>
<td>request.dealWithdrawals.externalId</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user for particular transaction while creating the payout .</td>
</tr>
</tbody></table>
<h5 id='response-body-5'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>comment</td>
<td>string</td>
<td>Yes</td>
<td>comment for the mass payout.</td>
</tr>
<tr>
<td>companyId</td>
<td>string</td>
<td>Yes</td>
<td>company id.</td>
</tr>
<tr>
<td>createdBy</td>
<td>string</td>
<td>Yes</td>
<td>user who created this payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>transaction currency.</td>
</tr>
<tr>
<td>errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>mass payout id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>mass payout name.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>enum</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>networkfeeratio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>state</td>
<td>enum</td>
<td>Yes</td>
<td>represents status of the mass payout.</td>
</tr>
<tr>
<td>totalNetworkFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of network fees for all transactions.</td>
</tr>
<tr>
<td>totalNetworkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed total transactions amount to calculate the commission amount.</td>
</tr>
<tr>
<td>totalWithdrawalAmount</td>
<td>number</td>
<td>Yes</td>
<td>total amount of all transactions in a mass payout.</td>
</tr>
</tbody></table>
<h2 id='get-all-mass-payouts'>Get All Mass Payouts</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/mass/all'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "isExecutionDateInFuture": true,
    "pageNumber": 0,
    "size": 0,
    "stateNames": [
      "CANCELED"
    ]
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-04T18:18:10.735Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-04T18:18:10.736Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalNetworkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalNetworkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalWithdrawalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalElements"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all mass payouts.</p>
<h5 id='http-request-6'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/mass/all</code></p>
<h5 id='header-6'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-6'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.stateNames</td>
<td>array</td>
<td>Yes</td>
<td>status of the payouts you want to look up. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>request.pageNumber</td>
<td>number</td>
<td>Yes</td>
<td>specify the page of results to return.</td>
</tr>
<tr>
<td>request.size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>request.isExecutionDateInFuture</td>
<td>boolean</td>
<td>No</td>
<td>if true includes all payouts where execution date in future. if false includes all payouts where execution date in past. if null includes all payouts</td>
</tr>
</tbody></table>
<h5 id='response-body-6'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>array</td>
<td>Yes</td>
<td>this object contains response details.</td>
</tr>
<tr>
<td>result.comment</td>
<td>string</td>
<td>Yes</td>
<td>comment for the mass payout.</td>
</tr>
<tr>
<td>result.companyId</td>
<td>string</td>
<td>Yes</td>
<td>company id.</td>
</tr>
<tr>
<td>result.createdBy</td>
<td>string</td>
<td>Yes</td>
<td>user who created this payout.</td>
</tr>
<tr>
<td>result.createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>result.currency</td>
<td>string</td>
<td>Yes</td>
<td>transaction currency.</td>
</tr>
<tr>
<td>result.errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>result.executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>result.id</td>
<td>number</td>
<td>Yes</td>
<td>mass payout id.</td>
</tr>
<tr>
<td>result.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
<tr>
<td>result.name</td>
<td>string</td>
<td>Yes</td>
<td>mass payout name.</td>
</tr>
<tr>
<td>result.networkFeeCurrency</td>
<td>enum</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>result.networkfeeratio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>result.state</td>
<td>enum</td>
<td>Yes</td>
<td>represents status of the mass payout.</td>
</tr>
<tr>
<td>result.totalNetworkFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of network fees for all transactions.</td>
</tr>
<tr>
<td>result.totalNetworkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed total transactions amount to calculate the commission amount.</td>
</tr>
<tr>
<td>result.totalWithdrawalAmount</td>
<td>number</td>
<td>Yes</td>
<td>total amount of all transactions in a mass payout.</td>
</tr>
<tr>
<td>page</td>
<td>number</td>
<td>Yes</td>
<td>result page number.</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>total</td>
<td>number</td>
<td>Yes</td>
<td>the total number of pages matching the query.</td>
</tr>
<tr>
<td>totalElements</td>
<td>number</td>
<td>Yes</td>
<td>the total number of objects matching the query.</td>
</tr>
</tbody></table>
<h2 id='get-specific-mass-payout'>Get Specific Mass Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/mass'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "dealId": 0,
    "idempotencyKey": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-04T18:20:19.120Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-04T18:20:19.120Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalNetworkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalNetworkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalWithdrawalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves a specific mass payout.</p>
<h5 id='http-request-7'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/mass</code></p>
<h5 id='header-7'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-7'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.dealId</td>
<td>string</td>
<td>Yes</td>
<td>the id of the mass payout you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout.</td>
</tr>
</tbody></table>
<h5 id='response-body-7'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>comment</td>
<td>string</td>
<td>Yes</td>
<td>comment for the mass payout.</td>
</tr>
<tr>
<td>companyId</td>
<td>string</td>
<td>Yes</td>
<td>company id.</td>
</tr>
<tr>
<td>createdBy</td>
<td>string</td>
<td>Yes</td>
<td>user who created this payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>transaction currency.</td>
</tr>
<tr>
<td>errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>mass payout id.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>mass payout name.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>enum</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>networkfeeratio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>state</td>
<td>enum</td>
<td>Yes</td>
<td>represents status of the mass payout.</td>
</tr>
<tr>
<td>totalNetworkFee</td>
<td>number</td>
<td>Yes</td>
<td>amount of network fees for all transactions.</td>
</tr>
<tr>
<td>totalNetworkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed total transactions amount to calculate the commission amount.</td>
</tr>
<tr>
<td>totalWithdrawalAmount</td>
<td>number</td>
<td>Yes</td>
<td>total amount of all transactions in a mass payout.</td>
</tr>
</tbody></table>
<h2 id='get-transactions-from-a-specific-mass-payout'>Get Transactions From a Specific Mass Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/withdrawal/all"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span>dealId<span class="s2">": 0,
    "</span>externalId<span class="s2">": "</span>string<span class="s2">",
    "</span>idempotencyKey<span class="s2">": "</span>3fa85f64-5717-4562-b3fc-2c963f66afa6<span class="s2">",
    "</span>pageNumber<span class="s2">": 0,
    "</span>size<span class="s2">": 0,
    "</span>stateNames<span class="s2">": [
      "</span>CANCELED<span class="s2">"
    ]
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-04T18:22:28.496Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalElements"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all transactions from a specific mass payout.</p>
<h5 id='http-request-8'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/withdrawal/all</code></p>
<h5 id='header-8'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-8'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.dealId</td>
<td>string</td>
<td>Yes</td>
<td>the id of the mass payout you want to look up.</td>
</tr>
<tr>
<td>request.stateNames</td>
<td>string</td>
<td>Yes</td>
<td>specify the status of results to return. [ DRAFT, IN_PROGRESS, COMPLETED, REPLACED, FAILED ]</td>
</tr>
<tr>
<td>request.pageNumber</td>
<td>number</td>
<td>Yes</td>
<td>specify the page of results to return.</td>
</tr>
<tr>
<td>request.size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h5 id='response-body-8'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>recipient&#39;s crypto-address.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>No</td>
<td>comment for the transaction.</td>
</tr>
<tr>
<td>companyName</td>
<td>string</td>
<td>Yes</td>
<td>company of the user who created the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>transaction id.</td>
</tr>
<tr>
<td>modifiedBy</td>
<td>string</td>
<td>Yes</td>
<td>user who modified this payout.</td>
</tr>
<tr>
<td>modifiedDate</td>
<td>string</td>
<td>Yes</td>
<td>time of transaction modification.</td>
</tr>
<tr>
<td>networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>nonce</td>
<td>number</td>
<td>No</td>
<td>sequence number of the transaction.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the transaction. [ DRAFT, IN_PROGRESS, COMPLETED, REPLACED, FAILED ]</td>
</tr>
<tr>
<td>withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>this object contains error details.</td>
</tr>
<tr>
<td>withdrawalErrors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>represents human readable error reason of why request is not successful.</td>
</tr>
<tr>
<td>withdrawalErrors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>flag indicating that the error has been resolved.</td>
</tr>
<tr>
<td>withdrawalErrors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal error that occurred.</td>
</tr>
<tr>
<td>withdrawalErrors.status</td>
<td>string</td>
<td>Yes</td>
<td>error status when withdrawing funds. [ SUCCESS, NO_PERMISSION, NO_BALANCE, NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS _FOR_COMMISSION ]</td>
</tr>
<tr>
<td>withdrawalid</td>
<td>number</td>
<td>No</td>
<td>transaction id.</td>
</tr>
<tr>
<td>externalId</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user for particular transaction while creating the payout.</td>
</tr>
</tbody></table>
<h2 id='get-specific-transaction-from-a-mass-payout'>Get Specific Transaction From a Mass Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/withdrawal"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span>withdrawalId<span class="s2">": 0
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-04T18:29:52.036Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves specific transaction from a mass payout.</p>
<h5 id='http-request-9'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/withdrawal</code></p>
<h5 id='header-9'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-9'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>Transaction ID.</td>
</tr>
</tbody></table>
<h5 id='response-body-9'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>recipient&#39;s crypto-address.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>No</td>
<td>comment for the transaction.</td>
</tr>
<tr>
<td>companyName</td>
<td>string</td>
<td>Yes</td>
<td>company of the user who created the payout.</td>
</tr>
<tr>
<td>createdBy</td>
<td>string</td>
<td>Yes</td>
<td>user who created this transaction.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>transaction id.</td>
</tr>
<tr>
<td>modifiedBy</td>
<td>string</td>
<td>Yes</td>
<td>user who modified this payout.</td>
</tr>
<tr>
<td>modifiedDate</td>
<td>string</td>
<td>Yes</td>
<td>time of transaction modification.</td>
</tr>
<tr>
<td>networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>nonce</td>
<td>number</td>
<td>No</td>
<td>sequence number of the transaction.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the transaction. [ DRAFT, IN_PROGRESS, COMPLETED, REPLACED, FAILED ]</td>
</tr>
<tr>
<td>totalAmountInFiats</td>
<td>object</td>
<td>Yes</td>
<td>the total amount of transactions in different fiat currencies.</td>
</tr>
<tr>
<td>withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>this object contains error details.</td>
</tr>
<tr>
<td>withdrawalErrors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>represents human readable error reason of why request is not successful.</td>
</tr>
<tr>
<td>withdrawalErrors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>flag indicating that the error has been resolved.</td>
</tr>
<tr>
<td>withdrawalErrors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal error that occurred.</td>
</tr>
<tr>
<td>withdrawalErrors.status</td>
<td>string</td>
<td>Yes</td>
<td>error status when withdrawing funds. [ SUCCESS, NO_PERMISSION, NO_BALANCE, NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS _FOR_COMMISSION ]</td>
</tr>
<tr>
<td>withdrawalid</td>
<td>number</td>
<td>No</td>
<td>transaction id.</td>
</tr>
<tr>
<td>externalId</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user for particular transaction while creating the payout.</td>
</tr>
</tbody></table>
<h2 id='get-expected-transaction-fee'>Get Expected Transaction Fee</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/fee'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "withdrawalAddress": "string",
    "currency": "BTC",
    "depositAddress": "string",
    "amount": 0
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"maxRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"minRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"transactionFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves the expected transaction fee.</p>
<h5 id='http-request-10'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/fee</code></p>
<h5 id='header-10'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-10'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>OBJECT</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.withdrawalAddress</td>
<td>STRING</td>
<td>Yes</td>
<td>Sender&#39;s crypto address.</td>
</tr>
<tr>
<td>request.currency</td>
<td>STRING</td>
<td>Yes</td>
<td>This is the currency associated with the amount field.</td>
</tr>
<tr>
<td>request.depositAddress</td>
<td>STRING</td>
<td>Yes</td>
<td>Recipient&#39;s crypto-address.</td>
</tr>
<tr>
<td>request.amount</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Transaction amount.</td>
</tr>
</tbody></table>
<h5 id='response-body-10'>Response Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>maxRatio</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Represents a max ratio by which the transaction fee can be multiplied in order to precalculate max possible transaction fee.</td>
</tr>
<tr>
<td>minRatio</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Represents a min ratio by which the transaction fee can be multiplied in order to precalculate min possible transaction fee.</td>
</tr>
<tr>
<td>transactionFee</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Represents a medium transaction fee which can be multiplied by ratio in order to precalculate possible transaction fee.</td>
</tr>
</tbody></table>
<h2 id='get-specific-crypto-to-fiat-payout'>Get Specific Crypto-to-fiat Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/crypto-to-fiat"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span><span class="nb">id</span><span class="s2">": 0,
    "</span>idempotencyKey<span class="s2">": "</span>3fa85f64-5717-4562-b3fc-2c963f66afa6<span class="s2">"
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-06T09:24:46.913Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cancellation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cancelMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelRole"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceledByFirstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceledByLastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceledByUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dealExchange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"destinationCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exchangeFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fiatRequisitesId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fiatType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_TRANSFER"</span><span class="w">
      </span><span class="p">},</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-06T09:24:46.913Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves a specific crypto-to-fiat payout.</p>
<h5 id='http-request-11'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/crypto-to-fiat</code></p>
<h5 id='header-11'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-11'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>number</td>
<td>Yes</td>
<td>The id of the payout you want to look up.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h5 id='response-body-11'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>cancellation</td>
<td>object</td>
<td>No</td>
<td>object with information about payout cancellation.</td>
</tr>
<tr>
<td>cancellation.cancelMessage</td>
<td>string</td>
<td>No</td>
<td>the reason of the payout cancellation.</td>
</tr>
<tr>
<td>cancellation.cancelRole</td>
<td>string</td>
<td>No</td>
<td>role of the user who cancelled the payout [ADMIN, MANAGER, USER]</td>
</tr>
<tr>
<td>cancellation.canceledByFirstname</td>
<td>string</td>
<td>No</td>
<td>first name of the user who cancelled the payout.</td>
</tr>
<tr>
<td>cancellation.canceledByLastname</td>
<td>string</td>
<td>No</td>
<td>last name of the user who cancelled the payout.</td>
</tr>
<tr>
<td>cancellation.canceledByUserId</td>
<td>string</td>
<td>No</td>
<td>system user id of the user who cancelled the payout.</td>
</tr>
<tr>
<td>clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>dealExchange</td>
<td>object</td>
<td>No</td>
<td>object with information about exchange process.</td>
</tr>
<tr>
<td>dealExchange.destinationAmount</td>
<td>number</td>
<td>No</td>
<td>amount in fiat currency that will be received after exchange.</td>
</tr>
<tr>
<td>dealExchange.destinationCurrency</td>
<td>string</td>
<td>No</td>
<td>fiat currency that will be received after exchange [ EUR ]</td>
</tr>
<tr>
<td>dealExchange.exchangeFee</td>
<td>number</td>
<td>No</td>
<td>fee that will be charged by exchange provider.</td>
</tr>
<tr>
<td>dealExchange.fiatRequisitesId</td>
<td>string</td>
<td>No</td>
<td>identificator of requisites where bank transfer will be sent to. Manage requisites is possible through requisites api.</td>
</tr>
<tr>
<td>dealExchange.fiatType</td>
<td>string</td>
<td>No</td>
<td>type of bank transfer [SEPA, SWIFT]</td>
</tr>
<tr>
<td>dealExchange.id</td>
<td>string</td>
<td>No</td>
<td>system id of the exchange</td>
</tr>
<tr>
<td>dealExchange.state</td>
<td>string</td>
<td>No</td>
<td>state of the exchange [AWAITING_TRANSFER, COMPLETED, CREATED, FAILED, IN_PROGRESS]</td>
</tr>
<tr>
<td>errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>payout id</td>
</tr>
<tr>
<td>networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>networkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed payout amount to calculate the commission amount.</td>
</tr>
<tr>
<td>networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h2 id='create-crypto-to-fiat-payout'>Create Crypto-to-fiat Payout</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/crypto-to-fiat/create"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span>amount<span class="s2">": 0,
    "</span>comment<span class="s2">": "</span>string<span class="s2">",
    "</span>currency<span class="s2">": "</span>BNB<span class="s2">",
    "</span>fiatRequisitesId<span class="s2">": "</span>3fa85f64-5717-4562-b3fc-2c963f66afa6<span class="s2">",
    "</span>fiatType<span class="s2">": "</span>SEPA<span class="s2">",
    "</span>networkFeeRatio<span class="s2">": 0,
    "</span>withdrawalAddress<span class="s2">": "</span>string<span class="s2">",
    "</span>idempotencyKey<span class="s2">": "</span>3fa85f64-5717-4562-b3fc-2c963f66afa6<span class="s2">"
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-06T09:24:46.913Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cancellation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cancelMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelRole"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceledByFirstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceledByLastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceledByUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dealExchange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"destinationCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exchangeFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fiatRequisitesId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fiatType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_TRANSFER"</span><span class="w">
      </span><span class="p">},</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ENOUGH_FUNDS"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-06T09:24:46.913Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates a crypto-to-fiat payout.</p>
<h5 id='http-request-12'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/crypto-to-fiat/create</code></p>
<h5 id='header-12'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-12'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.withdrawalAddress</td>
<td>string</td>
<td>Yes</td>
<td>sender&#39;s cryptoaddress.</td>
</tr>
<tr>
<td>request.amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>request.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field. [ BTC, BUSD_ETH, DAI, ETH, FRAX, TRX, USDT, USDT_TRX, XDG ]</td>
</tr>
<tr>
<td>request.fiatRequisitesId</td>
<td>string</td>
<td>Yes</td>
<td>identificator of requisites where bank transfer will be sent to. Manage requisites is possible through requisites api.</td>
</tr>
<tr>
<td>request.fiatType</td>
<td>string</td>
<td>Yes</td>
<td>type of bank transfer [SEPA, SWIFT]</td>
</tr>
<tr>
<td>request.networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>request.comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>request.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout.</td>
</tr>
</tbody></table>
<h5 id='response-body-12'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>cancellation</td>
<td>object</td>
<td>No</td>
<td>object with information about payout cancellation.</td>
</tr>
<tr>
<td>cancellation.cancelMessage</td>
<td>string</td>
<td>No</td>
<td>the reason of the payout cancellation.</td>
</tr>
<tr>
<td>cancellation.cancelRole</td>
<td>string</td>
<td>No</td>
<td>role of the user who cancelled the payout [ADMIN, MANAGER, USER]</td>
</tr>
<tr>
<td>cancellation.canceledByFirstname</td>
<td>string</td>
<td>No</td>
<td>first name of the user who cancelled the payout.</td>
</tr>
<tr>
<td>cancellation.canceledByLastname</td>
<td>string</td>
<td>No</td>
<td>last name of the user who cancelled the payout.</td>
</tr>
<tr>
<td>cancellation.canceledByUserId</td>
<td>string</td>
<td>No</td>
<td>system user id of the user who cancelled the payout.</td>
</tr>
<tr>
<td>clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>dealExchange</td>
<td>object</td>
<td>No</td>
<td>object with information about exchange process.</td>
</tr>
<tr>
<td>dealExchange.destinationAmount</td>
<td>number</td>
<td>No</td>
<td>amount in fiat currency that will be received after exchange.</td>
</tr>
<tr>
<td>dealExchange.destinationCurrency</td>
<td>string</td>
<td>No</td>
<td>fiat currency that will be received after exchange [ EUR ]</td>
</tr>
<tr>
<td>dealExchange.exchangeFee</td>
<td>number</td>
<td>No</td>
<td>fee that will be charged by exchange provider.</td>
</tr>
<tr>
<td>dealExchange.fiatRequisitesId</td>
<td>string</td>
<td>No</td>
<td>identificator of requisites where bank transfer will be sent to. Manage requisites is possible through requisites api.</td>
</tr>
<tr>
<td>dealExchange.fiatType</td>
<td>string</td>
<td>No</td>
<td>type of bank transfer [SEPA, SWIFT]</td>
</tr>
<tr>
<td>dealExchange.id</td>
<td>string</td>
<td>No</td>
<td>system id of the exchange</td>
</tr>
<tr>
<td>dealExchange.state</td>
<td>string</td>
<td>No</td>
<td>state of the exchange [AWAITING_TRANSFER, COMPLETED, CREATED, FAILED, IN_PROGRESS]</td>
</tr>
<tr>
<td>errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>payout id</td>
</tr>
<tr>
<td>networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>networkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed payout amount to calculate the commission amount.</td>
</tr>
<tr>
<td>networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
</tbody></table>
<h2 id='get-all-crypto-to-fiat-payouts'>Get All Crypto-to-fiat Payouts</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/crypto-to-fiat/all"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0,
  "</span>request<span class="s2">": {
    "</span>isExecutionDateInFuture<span class="s2">": false,
    "</span>pageNumber<span class="s2">": 0,
    "</span>size<span class="s2">": 0,
    "</span>stateNames<span class="s2">": [
      "</span>CANCELED<span class="s2">"
    ]
  }
}"</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancellation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cancelMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cancelRole"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canceledByFirstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canceledByLastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canceledByUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"clientAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-12T11:00:46.142Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dealExchange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"destinationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"destinationCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exchangeFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fiatRequisitesId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fiatType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_TRANSFER"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"withdrawalErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"errorResolved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXCEEDING_LIMIT"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"withdrawalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"executionDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-12T11:00:46.142Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeePercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalElements"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all crypto-to-fiat payouts.</p>
<h5 id='http-request-13'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/payout/crypto-to-fiat/all</code></p>
<h5 id='header-13'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-13'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.stateNames</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>request.pageNumber</td>
<td>number</td>
<td>Yes</td>
<td>specify the page of results to return.</td>
</tr>
<tr>
<td>request.size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
</tbody></table>
<h5 id='response-body-13'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>array</td>
<td>Yes</td>
<td>this object contains response details.</td>
</tr>
<tr>
<td>result.amount</td>
<td>number</td>
<td>Yes</td>
<td>withdrawal amount.</td>
</tr>
<tr>
<td>result.cancellation</td>
<td>object</td>
<td>No</td>
<td>object with information about payout cancellation.</td>
</tr>
<tr>
<td>result.cancellation.cancelMessage</td>
<td>string</td>
<td>No</td>
<td>the reason of the payout cancellation.</td>
</tr>
<tr>
<td>result.cancellation.cancelRole</td>
<td>string</td>
<td>No</td>
<td>role of the user who cancelled the payout [ADMIN, MANAGER, USER]</td>
</tr>
<tr>
<td>result.cancellation.canceledByFirstname</td>
<td>string</td>
<td>No</td>
<td>first name of the user who cancelled the payout.</td>
</tr>
<tr>
<td>result.cancellation.canceledByLastname</td>
<td>string</td>
<td>No</td>
<td>last name of the user who cancelled the payout.</td>
</tr>
<tr>
<td>result.cancellation.canceledByUserId</td>
<td>string</td>
<td>No</td>
<td>system user id of the user who cancelled the payout.</td>
</tr>
<tr>
<td>result.clientAddress</td>
<td>string</td>
<td>Yes</td>
<td>crypto address for deposit.</td>
</tr>
<tr>
<td>result.comment</td>
<td>string</td>
<td>No</td>
<td>comment for the payout.</td>
</tr>
<tr>
<td>result.createdDate</td>
<td>string</td>
<td>Yes</td>
<td>time of payout creation.</td>
</tr>
<tr>
<td>result.currency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the amount field.</td>
</tr>
<tr>
<td>result.dealExchange</td>
<td>object</td>
<td>No</td>
<td>object with information about exchange process.</td>
</tr>
<tr>
<td>result.dealExchange.destinationAmount</td>
<td>number</td>
<td>No</td>
<td>amount in fiat currency that will be received after exchange.</td>
</tr>
<tr>
<td>result.dealExchange.destinationCurrency</td>
<td>string</td>
<td>No</td>
<td>fiat currency that will be received after exchange [ EUR ]</td>
</tr>
<tr>
<td>result.dealExchange.exchangeFee</td>
<td>number</td>
<td>No</td>
<td>fee that will be charged by exchange provider.</td>
</tr>
<tr>
<td>result.dealExchange.fiatRequisitesId</td>
<td>string</td>
<td>No</td>
<td>identificator of requisites where bank transfer will be sent to. Manage requisites is possible through requisites api.</td>
</tr>
<tr>
<td>result.dealExchange.fiatType</td>
<td>string</td>
<td>No</td>
<td>type of bank transfer [SEPA, SWIFT]</td>
</tr>
<tr>
<td>result.dealExchange.id</td>
<td>string</td>
<td>No</td>
<td>system id of the exchange</td>
</tr>
<tr>
<td>result.dealExchange.state</td>
<td>string</td>
<td>No</td>
<td>state of the exchange [AWAITING_TRANSFER, COMPLETED, CREATED, FAILED, IN_PROGRESS]</td>
</tr>
<tr>
<td>result.errors</td>
<td>object</td>
<td>No</td>
<td>payout errors</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors</td>
<td>array</td>
<td>Yes</td>
<td>list of validation errors of a particular withdrawal</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.errorMessage</td>
<td>string</td>
<td>No</td>
<td>text of the error message</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.errorResolved</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether errors were resolved or not</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.id</td>
<td>number</td>
<td>Yes</td>
<td>id of the error</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.errors.status</td>
<td>string</td>
<td>Yes</td>
<td>validation status of the withdrawal [NOT_ENOUGH_FUNDS, NOT_ENOUGH_FUNDS_FOR_COMMISSION, NO_BALANCE, NO_PERMISSION, SUCCESS]</td>
</tr>
<tr>
<td>result.errors.withdrawalErrors.withdrawalId</td>
<td>number</td>
<td>Yes</td>
<td>id of the withdrawal where error occured</td>
</tr>
<tr>
<td>result.executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>result.hash</td>
<td>string</td>
<td>No</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>result.id</td>
<td>number</td>
<td>Yes</td>
<td>payout id</td>
</tr>
<tr>
<td>result.networkFee</td>
<td>number</td>
<td>Yes</td>
<td>is a cryptocurrency transaction fee that is charged to users when performing crypto transactions.</td>
</tr>
<tr>
<td>result.networkFeeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>this is the currency associated with the networkfee field.</td>
</tr>
<tr>
<td>result.networkFeePercentage</td>
<td>number</td>
<td>Yes</td>
<td>describes percentage that should be applied to the executed payout amount to calculate the commission amount.</td>
</tr>
<tr>
<td>result.networkFeeRatio</td>
<td>number</td>
<td>Yes</td>
<td>selected network fee coefficient (see get expected transaction fee).</td>
</tr>
<tr>
<td>result.state</td>
<td>string</td>
<td>Yes</td>
<td>represents status of the payout. [ PENDING_CONFIRMATION, CONFIRMED, IN_PROGRESS, COMPLETED, FAILED, CANCELED ]</td>
</tr>
<tr>
<td>result.executionDate</td>
<td>string</td>
<td>No</td>
<td>execution date of payout. Time when payout will be executed</td>
</tr>
<tr>
<td>result.idempotencyKey</td>
<td>string</td>
<td>No</td>
<td>the external id that can be generated by user while creating the payout</td>
</tr>
<tr>
<td>page</td>
<td>number</td>
<td>Yes</td>
<td>result page number.</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>total</td>
<td>number</td>
<td>Yes</td>
<td>the total number of pages matching the query.</td>
</tr>
<tr>
<td>totalElements</td>
<td>number</td>
<td>Yes</td>
<td>the total number of objects matching the query.</td>
</tr>
</tbody></table>
<h1 id='wallet-api'>Wallet API</h1><h2 id='new-wallet'>New Wallet</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/wallet/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "blockchain": "BITCOIN",
    "name": "string"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates a new hot wallet.</p>
<h5 id='http-request'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/wallet/create</code></p>
<h5 id='header'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.blockchain</td>
<td>string</td>
<td>Yes</td>
<td>blockchain where you create wallet [ BITCOIN, DOGECOIN, ETHEREUM, TRON ]</td>
</tr>
<tr>
<td>request.name</td>
<td>string</td>
<td>No</td>
<td>wallet name</td>
</tr>
</tbody></table>
<h5 id='response-body'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>Yes</td>
<td>blockchain address of the wallet</td>
</tr>
</tbody></table>
<h1 id='currencies-and-reates-api'>Currencies and reates API</h1><h2 id='get-all-currencies'>Get all currencies</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/currency'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"cryptoCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"BTC"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"fiatCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"EUR"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retreaves all available currencies.</p>
<h5 id='http-request'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/currency</code></p>
<h5 id='header'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
</tbody></table>
<h5 id='response-body'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>cryptoCurrencies</td>
<td>array</td>
<td>No</td>
<td>list of available crypto currencies</td>
</tr>
<tr>
<td>cryptoCurrencies.{currencyName}</td>
<td>string</td>
<td>No</td>
<td>ticker of crypto currency</td>
</tr>
<tr>
<td>fiatCurrencies</td>
<td>array</td>
<td>No</td>
<td>list of available fiat currencies</td>
</tr>
<tr>
<td>fiatCurrencies.{currencyName}</td>
<td>string</td>
<td>No</td>
<td>ticker of fiat currency</td>
</tr>
</tbody></table>
<h2 id='get-exchange-rates'>Get exchange rates</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/currency/rate'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "fromCurrencies": [
        "BTC"
        ],
    "toCurrencies": [
        "ETH"
        ]
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"rates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.901353042856291</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-26T09:12:39Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retreaves exchange rates for specified currencies.</p>
<h5 id='http-request-2'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/currency/rate</code></p>
<h5 id='header-2'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-2'>Request Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.fromCurrencies</td>
<td>array</td>
<td>Yes</td>
<td>list of source currencies for getting rate</td>
</tr>
<tr>
<td>request.fromCurrencies.{currencyName}</td>
<td>string</td>
<td>Yes</td>
<td>ticker of crypto or fiat currency</td>
</tr>
<tr>
<td>request.toCurrencies</td>
<td>array</td>
<td>Yes</td>
<td>list of destination currency for getting rate</td>
</tr>
<tr>
<td>request.toCurrencies.{currencyName}</td>
<td>string</td>
<td>Yes</td>
<td>ticker of crypto or fiat currency</td>
</tr>
</tbody></table>
<h5 id='response-body-2'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>rates</td>
<td>object</td>
<td>Yes</td>
<td>objcet with currency pairs and their rates</td>
</tr>
<tr>
<td>rates.{currencyName}</td>
<td>object</td>
<td>Yes</td>
<td>object with rates for the currency</td>
</tr>
<tr>
<td>rates.{currencyName}.{currencyName}</td>
<td>object</td>
<td>Yes</td>
<td>object with rate data for this currency to currency in parent object</td>
</tr>
<tr>
<td>rates.{currencyName}.{currencyName}.rate</td>
<td>string</td>
<td>Yes</td>
<td>current price of currency pair</td>
</tr>
<tr>
<td>rates.{currencyName}.{currencyName}.createdAt</td>
<td>string</td>
<td>Yes</td>
<td>date relative to which rate is provided</td>
</tr>
</tbody></table>
<h1 id='bank-requisites-api'>Bank Requisites API</h1><h2 id='get-specific-requisites'>Get Specific Requisites</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bankAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bankName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"uenNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ibanNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bicNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves requisites by id.</p>
<h5 id='http-request'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite</code></p>
<h5 id='header'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>number</td>
<td>Yes</td>
<td>identificator of requisites where bank transfer will be sent to.</td>
</tr>
</tbody></table>
<h5 id='response-body'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>accountNumber</td>
<td>string</td>
<td>No</td>
<td>bank account number. Requied only for SWIFT.</td>
</tr>
<tr>
<td>archived</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether requisites archived or not. Archived requisites can not be used.</td>
</tr>
<tr>
<td>bankAddress</td>
<td>string</td>
<td>Yes</td>
<td>bank address of reciever.</td>
</tr>
<tr>
<td>bankName</td>
<td>string</td>
<td>Yes</td>
<td>bank name of reciever.</td>
</tr>
<tr>
<td>companyId</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of your company.</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of requisites. It is used in crypto-to-fiat payout creation.</td>
</tr>
<tr>
<td>recipientName</td>
<td>string</td>
<td>Yes</td>
<td>company name of the recipient.</td>
</tr>
<tr>
<td>swift</td>
<td>string</td>
<td>Yes</td>
<td>swift number of recipient. Required only for SWIFT.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>type of bank transfer [ SEPA, SWIFT ]</td>
</tr>
<tr>
<td>uenNumber</td>
<td>string</td>
<td>No</td>
<td>UEN number of recipient. Required only for SWIFT.</td>
</tr>
<tr>
<td>ibanNumber</td>
<td>string</td>
<td>No</td>
<td>IBAN number of recipient. Required only for SEPA.</td>
</tr>
<tr>
<td>bicNumber</td>
<td>string</td>
<td>No</td>
<td>BIC number of recipient. Required only for SEPA.</td>
</tr>
</tbody></table>
<h2 id='get-all-requisites'>Get All Requisites</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite/all'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "pageNumber": 0,
    "size": 0,
    "type": "SEPA"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bankAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bankName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uenNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ibanNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bicNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalElements"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint retrieves all requisites.</p>
<h5 id='http-request-2'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite/all</code></p>
<h5 id='header-2'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-2'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.pageNumber</td>
<td>number</td>
<td>Yes</td>
<td>specify the page of results to return.</td>
</tr>
<tr>
<td>request.size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>reques.type</td>
<td>string</td>
<td>Yes</td>
<td>type of bank transfer [ SEPA, SWIFT ]</td>
</tr>
</tbody></table>
<h5 id='response-body-2'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>number</td>
<td>Yes</td>
<td>result page number.</td>
</tr>
<tr>
<td>result</td>
<td>array</td>
<td>Yes</td>
<td>this object contains response details.</td>
</tr>
<tr>
<td>result.accountNumber</td>
<td>string</td>
<td>No</td>
<td>bank account number. Requied only for SWIFT.</td>
</tr>
<tr>
<td>result.archived</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether requisites archived or not. Archived requisites can not be used.</td>
</tr>
<tr>
<td>result.bankAddress</td>
<td>string</td>
<td>Yes</td>
<td>bank address of reciever.</td>
</tr>
<tr>
<td>result.bankName</td>
<td>string</td>
<td>Yes</td>
<td>bank name of reciever.</td>
</tr>
<tr>
<td>result.companyId</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of your company.</td>
</tr>
<tr>
<td>result.id</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of requisites. It is used in crypto-to-fiat payout creation.</td>
</tr>
<tr>
<td>result.recipientName</td>
<td>string</td>
<td>Yes</td>
<td>company name of the recipient.</td>
</tr>
<tr>
<td>result.swift</td>
<td>string</td>
<td>Yes</td>
<td>swift number of recipient. Required only for SWIFT.</td>
</tr>
<tr>
<td>result.type</td>
<td>string</td>
<td>Yes</td>
<td>type of bank transfer [ SEPA, SWIFT ]</td>
</tr>
<tr>
<td>result.uenNumber</td>
<td>string</td>
<td>No</td>
<td>UEN number of recipient. Required only for SWIFT.</td>
</tr>
<tr>
<td>result.ibanNumber</td>
<td>string</td>
<td>No</td>
<td>IBAN number of recipient. Required only for SEPA.</td>
</tr>
<tr>
<td>result.bicNumber</td>
<td>string</td>
<td>No</td>
<td>BIC number of recipient. Required only for SEPA.</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>Yes</td>
<td>a numeric value indicating the page size.</td>
</tr>
<tr>
<td>total</td>
<td>number</td>
<td>Yes</td>
<td>the total number of pages matching the query.</td>
</tr>
<tr>
<td>totalElements</td>
<td>number</td>
<td>Yes</td>
<td>the total number of objects matching the query.</td>
</tr>
</tbody></table>
<h2 id='create-sepa-requisites'>Create SEPA Requisites</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite/sepa/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "bankAddress": "string",
    "bankName": "string",
    "bicNumber": "string",
    "ibanNumber": "string",
    "recipientName": "string"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bankAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bankName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bicNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ibanNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates SEPA requisites.</p>
<h5 id='http-request-3'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite/sepa/create</code></p>
<h5 id='header-3'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-3'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>number</td>
<td>Yes</td>
<td>identificator of requisites where bank transfer will be sent to.</td>
</tr>
<tr>
<td>bankAddress</td>
<td>string</td>
<td>Yes</td>
<td>bank address of reciever.</td>
</tr>
<tr>
<td>bankName</td>
<td>string</td>
<td>Yes</td>
<td>bank name of reciever.</td>
</tr>
<tr>
<td>recipientName</td>
<td>string</td>
<td>Yes</td>
<td>company name of the recipient.</td>
</tr>
<tr>
<td>ibanNumber</td>
<td>string</td>
<td>No</td>
<td>IBAN number of recipient.</td>
</tr>
<tr>
<td>bicNumber</td>
<td>string</td>
<td>No</td>
<td>BIC number of recipient.</td>
</tr>
</tbody></table>
<h5 id='response-body-3'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>archived</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether requisites archived or not. Archived requisites can not be used.</td>
</tr>
<tr>
<td>bankAddress</td>
<td>string</td>
<td>Yes</td>
<td>bank address of reciever.</td>
</tr>
<tr>
<td>bankName</td>
<td>string</td>
<td>Yes</td>
<td>bank name of reciever.</td>
</tr>
<tr>
<td>companyId</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of your company.</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of requisites. It is used in crypto-to-fiat payout creation.</td>
</tr>
<tr>
<td>recipientName</td>
<td>string</td>
<td>Yes</td>
<td>company name of the recipient.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>type of bank transfer [ SEPA, SWIFT ]</td>
</tr>
<tr>
<td>ibanNumber</td>
<td>string</td>
<td>No</td>
<td>IBAN number of recipient. Required only for SEPA.</td>
</tr>
<tr>
<td>bicNumber</td>
<td>string</td>
<td>No</td>
<td>BIC number of recipient. Required only for SEPA.</td>
</tr>
</tbody></table>
<h2 id='create-swift-requisites'>Create SWIFT Requisites</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite/swift/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "accountNumber": "string",
    "bankAddress": "string",
    "bankName": "string",
    "recipientName": "string",
    "swift": "string",
    "uenNumber": "string"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bankAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bankName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recipientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"uenNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>This endpoint creates SEPA requisites.</p>
<h5 id='http-request-4'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/requisite/swift/create</code></p>
<h5 id='header-4'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-4'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>This object contains request details.</td>
</tr>
<tr>
<td>request.id</td>
<td>number</td>
<td>Yes</td>
<td>identificator of requisites where bank transfer will be sent to.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>string</td>
<td>No</td>
<td>bank account number.</td>
</tr>
<tr>
<td>bankAddress</td>
<td>string</td>
<td>Yes</td>
<td>bank address of reciever.</td>
</tr>
<tr>
<td>bankName</td>
<td>string</td>
<td>Yes</td>
<td>bank name of reciever.</td>
</tr>
<tr>
<td>recipientName</td>
<td>string</td>
<td>Yes</td>
<td>company name of the recipient.</td>
</tr>
<tr>
<td>swift</td>
<td>string</td>
<td>Yes</td>
<td>swift number of recipient.</td>
</tr>
<tr>
<td>uenNumber</td>
<td>string</td>
<td>No</td>
<td>UEN number of recipient.</td>
</tr>
</tbody></table>
<h5 id='response-body-4'>Response Body</h5>
<table><thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>mandatory</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>accountNumber</td>
<td>string</td>
<td>No</td>
<td>bank account number.</td>
</tr>
<tr>
<td>archived</td>
<td>boolean</td>
<td>Yes</td>
<td>represents whether requisites archived or not. Archived requisites can not be used.</td>
</tr>
<tr>
<td>bankAddress</td>
<td>string</td>
<td>Yes</td>
<td>bank address of reciever.</td>
</tr>
<tr>
<td>bankName</td>
<td>string</td>
<td>Yes</td>
<td>bank name of reciever.</td>
</tr>
<tr>
<td>companyId</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of your company.</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>system identificator of requisites. It is used in crypto-to-fiat payout creation.</td>
</tr>
<tr>
<td>recipientName</td>
<td>string</td>
<td>Yes</td>
<td>company name of the recipient.</td>
</tr>
<tr>
<td>swift</td>
<td>string</td>
<td>Yes</td>
<td>swift number of recipient.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>type of bank transfer [ SEPA, SWIFT ]</td>
</tr>
<tr>
<td>uenNumber</td>
<td>string</td>
<td>No</td>
<td>UEN number of recipient.</td>
</tr>
</tbody></table>
<h1 id='webhooks'>Webhooks</h1>
<p>The Webhooks API allows you to subscribe to events happening with your created objects (Invoices or Payouts) in Defexa. Rather than making an API call to check status of invoice or payout during processing, Defexa can send an HTTP request to an endpoint you configure. You can configure subscribed events using the endpoints detailed below.</p>
<h4 id='how-it-works'>How it works?</h4>
<p>In order to receive notifications you should send a POST request to the create webhook endpoint where you should transmit URL where you want to receive POST requests with event data from Defexa and event types or group of event types for which you need to receive notifications.</p>

<p>Then when one of events for which you have subscription happens, Defexa sends a POST request to the configured URL with data about the event.</p>

<p>You can manage your subscription using the delete webhook endpoint and the change webhook endpoint.</p>

<p>There is the get list of webhook subscriptions endpoint in order to get information about events and URLs you have a subscription.</p>
<h4 id='retry-policy'>Retry policy</h4>
<p>If the receiving party returned an error when sending the webhook to the configured URL, Defexa will be trying to resend the webhook. The first retry will be occured in 30 seconds. The next retries will be proceeded in Fibonacci sequence: 30 s, 60 s, 90 s, 150 s, 240 s and so on. The last period of retry is 125 430 s (~ 34 hours). The last webhook will try to be resent after 125 430 s and then will be stopped. There are 19 retries in total.</p>
<h3 id='types-of-events'>Types of Events</h3>
<p>Defexa supports a number of different event types, and you can filter your notification requests depending on types or group of events you send in the request.</p>

<p>There are two ways to subscribe to notifications. You can send values in one of following fields (or in both) using a POST request to the create webhook endpoint:</p>

<ul>
<li><strong>notificationServiceTypes</strong> - groups of possible event types: [INVOICE, PAYOUT]. Send values in this field to subscribe to all events of chosen group. See list of events in each group below in the section <strong>Events by group</strong>.</li>
<li><strong>notificationEventTypes</strong> - event types for which you can receive notifications. Send values in this field to subscribe to particular events. See list of events below in the section <strong>Events by group</strong>.</li>
</ul>
<h4 id='events-by-group'>Events by group</h4>
<p><strong>INVOICE</strong></p>

<table><thead>
<tr>
<th>Event type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>INVOICE_CREATE_INVOICE</td>
<td>New single invoice has been created</td>
</tr>
<tr>
<td>INVOICE_CREATE_UNLIMITED_INVOICE</td>
<td>New unlimited invoice has been created</td>
</tr>
<tr>
<td>INVOICE_FUNDS_RECEIVED_FOR_INVOICE</td>
<td>Funds have been received to invoice wallet</td>
</tr>
<tr>
<td>INVOICE_TRANSLATION_TO_WALLET_COMPLETED</td>
<td>Funds have been received from invoice wallet to hot wallet</td>
</tr>
<tr>
<td>INVOICE_PENDING_INTERVENTION</td>
<td>Invoice has changed state to INVOICE_PENDING_INTERVENTION. Either more or less funds was received to the invoice wallet than required</td>
</tr>
<tr>
<td>INVOICE_FAILED</td>
<td>Not enough funds in base currency for token invoice in order to send money from invoice wallet to your wallet</td>
</tr>
</tbody></table>

<p><strong>PAYOUT</strong></p>

<table><thead>
<tr>
<th>Event type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PAYOUT_CHANGE_STATUS</td>
<td>Payout has changed state to In Progress, Canceled, Failed or Completed</td>
</tr>
<tr>
<td>PAYOUT_CONFIRMED</td>
<td>Payout has changed state to Confirmed</td>
</tr>
<tr>
<td>PAYOUT_SPEEDED_UP</td>
<td>Payout has been speeded up</td>
</tr>
<tr>
<td>PAYOUT_VALIDATION_ERROR</td>
<td>Validation error has been occurred during payout processing</td>
</tr>
<tr>
<td>PAYOUT_CRYPTO_TO_FIAT_COMPLETED</td>
<td>Payout crypto-to-fiat has been completed. Funds have been sent to fiat exchange account</td>
</tr>
<tr>
<td>PAYOUT_WITHDRAWALS_CREATING_VALIDATION_ERROR</td>
<td>Mass payout is failed because of the validation error in it withdrawal(s)</td>
</tr>
<tr>
<td>PAYOUT_ETHEREUM_APPROVAL_VALIDATION_ERROR</td>
<td>Error in mass payout during transaction validation in blockchain (Ethereum only)</td>
</tr>
</tbody></table>
<h2 id='webhook-payload'>Webhook payload</h2>
<blockquote>
<p>Webhook payload example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bf9348b7-2c14-46d7-868c-b597852da319"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-15T12:13:05.909616"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVOICE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVOICE_CREATE_INVOICE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"parentExternalId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice example"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-15T12:13:03.157015"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVOICE_CREATE_INVOICE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"idempotencyKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5b0ca8da-6af4-4a1c-9efd-5cbfc19ace09"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Webhooks deliver the responses to your service in JSON format. The parameters that webhook payload inludes are listed in the table below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that created webhook subscription.</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>Yes</td>
<td>id of the event.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>Yes</td>
<td>creation date of the event.</td>
</tr>
<tr>
<td>level</td>
<td>string</td>
<td>Yes</td>
<td>level of the notification for the event. [SUCCESS, INFO, WARNING]</td>
</tr>
<tr>
<td>service</td>
<td>string</td>
<td>Yes</td>
<td>group of events which the event belongs to.</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>Yes</td>
<td>set of data depending on the event type. See list of field for each event type below.</td>
</tr>
</tbody></table>
<h3 id='data-object-depending-on-event-type'>Data object depending on event type</h3><h5 id='invoice_create_invoice'>INVOICE_CREATE_INVOICE</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>event type: INVOICE_CREATE_INVOICE</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>money amount of the created invoice.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>text of the invoice.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency of the invoice.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the invoice.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of invoice creation</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while invoice creating through api.</td>
</tr>
</tbody></table>
<h5 id='invoice_create_unlimited_invoice'>INVOICE_CREATE_UNLIMITED_INVOICE</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>event type: INVOICE_CREATE_UNLIMITED_INVOICE</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>text of the invoice.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency of the invoice.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the invoice.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of invoice creation</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while invoice creating through api.</td>
</tr>
</tbody></table>
<h5 id='invoice_funds_received_for_invoice'>INVOICE_FUNDS_RECEIVED_FOR_INVOICE</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>event type: INVOICE_FUNDS_RECEIVED_FOR_INVOICE</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>amount of recieved money to invoice wallet.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>text of the invoice.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency of the invoice.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the invoice.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of invoice creation.</td>
</tr>
<tr>
<td>senderAddress</td>
<td>string</td>
<td>wallet address from where funds were sent.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while invoice creating through api.</td>
</tr>
</tbody></table>
<h5 id='invoice_translation_to_wallet_completed'>INVOICE_TRANSLATION_TO_WALLET_COMPLETED</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>event type: INVOICE_TRANSLATION_TO_WALLET_COMPLETED</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>money amount of the invoice.</td>
</tr>
<tr>
<td>realAmount</td>
<td>number</td>
<td>real amount of money received on the merchant wallet.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>text of the invoice.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency of the invoice.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the invoice.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of invoice creation.</td>
</tr>
<tr>
<td>senderAddress</td>
<td>string</td>
<td>invoice wallet address from where funds were sent.</td>
</tr>
<tr>
<td>walletParameter</td>
<td>string</td>
<td>hot wallet Parameter where funds were sent.</td>
</tr>
<tr>
<td>walletAddress</td>
<td>string</td>
<td>hot wallet address where funds were sent.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while invoice creating through api.</td>
</tr>
</tbody></table>
<h5 id='invoice_pending_intervention'>INVOICE_PENDING_INTERVENTION</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type: INVOICE_PENDING_INTERVENTION</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>text of the invoice.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the invoice.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while invoice creating through api.</td>
</tr>
</tbody></table>
<h5 id='invoice_failed'>INVOICE_FAILED</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the invoice.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while invoice creating through api.</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>money amount of the invoice.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency of the invoice.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>description of the invoice.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of invoice creation.</td>
</tr>
<tr>
<td>transactionHash</td>
<td>string</td>
<td>hash of the incoming transaction to the invoice wallet.</td>
</tr>
<tr>
<td>notEnoughFundsForTokenFeeAmount</td>
<td>number</td>
<td>amount of money that is unsufficient on your main wallet for transaction fee</td>
</tr>
<tr>
<td>feeCurrency</td>
<td>string</td>
<td>currency of the transaction fee for operation</td>
</tr>
</tbody></table>
<h5 id='payout_change_status'>PAYOUT_CHANGE_STATUS</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hash</td>
<td>string</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>event type: PAYOUT_CHANGE_STATUS.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of payout creation.</td>
</tr>
<tr>
<td>payoutStatus</td>
<td>string</td>
<td>current state of the payout.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while payout creating through api.</td>
</tr>
</tbody></table>
<h5 id='payout_confirmed'>PAYOUT_CONFIRMED</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>event type: PAYOUT_CONFIRMED.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of payout creation.</td>
</tr>
<tr>
<td>approved</td>
<td>array</td>
<td>list of users who approved the payout.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while payout creating through api.</td>
</tr>
</tbody></table>
<h5 id='payout_speeded_up'>PAYOUT_SPEEDED_UP</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type: PAYOUT_SPEEDED_UP.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the payout.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of payout creation.</td>
</tr>
<tr>
<td>speededUpParameter</td>
<td>string</td>
<td>user who speeded up the payout transaction.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while payout creating through api.</td>
</tr>
</tbody></table>
<h5 id='payout_validation_error'>PAYOUT_VALIDATION_ERROR</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>event type: PAYOUT_VALIDATION_ERROR.</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the payout.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>validation error message.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of payout creation.</td>
</tr>
<tr>
<td>dealWithdrawalId</td>
<td>number</td>
<td>system id of withdrawal where validation error occured.</td>
</tr>
<tr>
<td>validationStatus</td>
<td>string</td>
<td>the reason of validation error.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while payout creating through api.</td>
</tr>
</tbody></table>
<h5 id='payout_crypto_to_fiat_completed'>PAYOUT_CRYPTO_TO_FIAT_COMPLETED</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hash</td>
<td>string</td>
<td>transaction hash.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>event type: PAYOUT_CRYPTO_TO_FIAT_COMPLETED</td>
</tr>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the payout.</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>transferred amount in EUR.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>date and time of payout creation.</td>
</tr>
<tr>
<td>fiatType</td>
<td>string</td>
<td>transfer type:  SEPA, SWIFT</td>
</tr>
<tr>
<td>fiatRequisitesId</td>
<td>string</td>
<td>system id of requisites where money will be transferred to (requisites api is in development)</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while payout creating through api.</td>
</tr>
</tbody></table>
<h5 id='payout_withdrawals_creating_validation_error'>PAYOUT_WITHDRAWALS_CREATING_VALIDATION_ERROR</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parentExternalId</td>
<td>number</td>
<td>system id of the payout.</td>
</tr>
<tr>
<td>idempotencyKey</td>
<td>string</td>
<td>the external id that was generated while payout creating through api.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>validation error message.</td>
</tr>
</tbody></table>
<h2 id='webhook-api'>Webhook api</h2><h3 id='get-list-of-webhook-subscriptions'>Get List Of Webhook Subscriptions</h3>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--silent</span> <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s2">"https://public-gateway.svc.wallet.defexa.io/api/v1/pub/subscription/webhook"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s2">"{
  "</span>nonce<span class="s2">": 0
}"</span>
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"notificationEventTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"PAYOUT"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves list of webhook subscriptions.</p>
<h5 id='http-request'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/subscription/webhook</code></p>
<h5 id='header'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>NUMBER</td>
<td>Yes</td>
<td>Nonce used in construction of Sign header.</td>
</tr>
</tbody></table>
<h5 id='response-body'>Response Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptions</td>
<td>array</td>
<td>Yes</td>
<td>array of webhook settings.</td>
</tr>
<tr>
<td>subscriptions.notificationEventTypes</td>
<td>array</td>
<td>Yes</td>
<td>array of event types for webhook subscription. See Event types section for full list of values.</td>
</tr>
<tr>
<td>subscriptions.requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that has created webhook subscription.</td>
</tr>
<tr>
<td>subscriptions.url</td>
<td>string</td>
<td>Yes</td>
<td>web address where request with webhook will be send to.</td>
</tr>
</tbody></table>
<h3 id='create-webhook'>Create Webhook</h3>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io/api/v1/pub/subscription/webhook/create'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "notificationEventTypes": [
      "INVOICE_CREATE_UNLIMITED_INVOICE"
    ],
    "notificationServiceTypes": [
      "INVOICE"
    ],
    "requestId": "bf9348b7-2c14-46d7-868c-b597852da319",
    "url": "string"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"notificationEventTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"INVOICE_CREATE_UNLIMITED_INVOICE"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint creates a subscription to events.</p>
<h5 id='http-request-2'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/subscription/webhook/create</code></p>
<h5 id='header-2'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-2'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.notificationEventTypes</td>
<td>array</td>
<td>No</td>
<td>array of event types for webhook subscription. See Event types section for full list of values.</td>
</tr>
<tr>
<td>request.notificationServiceTypes</td>
<td>array</td>
<td>No</td>
<td>array of groups of the events for webhook subscription. If the value is set, a subscription is created for all types of events in this group. [INVOICE, PAYOUT]</td>
</tr>
<tr>
<td>request.requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that has created webhook subscription.</td>
</tr>
<tr>
<td>request.url</td>
<td>string</td>
<td>Yes</td>
<td>web address where request with webhook will be send to.</td>
</tr>
</tbody></table>
<h5 id='response-body-2'>Response Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>notificationEventTypes</td>
<td>array</td>
<td>Yes</td>
<td>array of event types for webhook subscription. See Event types section for full list of values.</td>
</tr>
<tr>
<td>requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that has created webhook subscription.</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>Yes</td>
<td>web address where request with webhook will be send to.</td>
</tr>
</tbody></table>
<h3 id='change-webhook'>Change Webhook</h3>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://public-gateway.svc.wallet.defexa.io//api/v1/pub/subscription/webhook/change'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "notificationEventTypes": [
      "INVOICE_CREATE_UNLIMITED_INVOICE"
    ],
    "notificationServiceTypes": [
      "INVOICE"
    ],
    "requestId": "bf9348b7-2c14-46d7-868c-b597852da319",
    "url": "string"
  }
}'</span>

</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"notificationEventTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"INVOICE_CREATE_UNLIMITED_INVOICE"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fa85f64-5717-4562-b3fc-2c963f66afa6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint changes a configuration of subscription.</p>
<h5 id='http-request-3'>HTTP Request</h5>
<p><code>POST https://public-gateway.svc.wallet.defexa.io/api/v1/pub/subscription/webhook/change</code></p>
<h5 id='header-3'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-3'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.notificationEventTypes</td>
<td>array</td>
<td>No</td>
<td>array of event types for webhook subscription. See Event types section for full list of values.</td>
</tr>
<tr>
<td>request.notificationServiceTypes</td>
<td>array</td>
<td>No</td>
<td>array of groups of the events for webhook subscription. If the value is set, a subscription is created for all types of events in this group. [INVOICE, PAYOUT]</td>
</tr>
<tr>
<td>request.requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that has created webhook subscription.</td>
</tr>
<tr>
<td>request.url</td>
<td>string</td>
<td>Yes</td>
<td>web address where request with webhook will be send to.</td>
</tr>
</tbody></table>
<h5 id='response-body-3'>Response Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>notificationEventTypes</td>
<td>array</td>
<td>Yes</td>
<td>array of event types for webhook subscription. See Event types section for full list of values.</td>
</tr>
<tr>
<td>requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that has created webhook subscription.</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>Yes</td>
<td>web address where request with webhook will be send to.</td>
</tr>
</tbody></table>
<h3 id='delete-webhook'>Delete Webhook</h3>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> DELETE <span class="s1">'https://public-gateway.svc.wallet.defexa.io//api/v1/pub/subscription/webhook'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Key: &lt;your_api_key&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Sign: &lt;your_sign&gt;'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
  "nonce": 0,
  "request": {
    "requestId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }
}'</span>

</code></pre></div>
<p>This endpoint deletes a subscription to events.</p>
<h5 id='http-request-4'>HTTP Request</h5>
<p><code>DELETE https://public-gateway.svc.wallet.defexa.io/api/v1/pub/subscription/webhook</code></p>
<h5 id='header-4'>Header</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_api_key&gt;</td>
</tr>
<tr>
<td>Sign</td>
<td>STRING</td>
<td>Yes</td>
<td>&lt;your_sign&gt;</td>
</tr>
<tr>
<td>Content-Type</td>
<td>STRING</td>
<td>Yes</td>
<td>must be set to application/json for requests to the Defexa API</td>
</tr>
</tbody></table>
<h5 id='request-body-4'>Request Body</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>number</td>
<td>Yes</td>
<td>nonce used in construction of sign header.</td>
</tr>
<tr>
<td>request</td>
<td>object</td>
<td>Yes</td>
<td>this object contains request details.</td>
</tr>
<tr>
<td>request.requestId</td>
<td>string</td>
<td>Yes</td>
<td>id of the request that has created webhook subscription.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<blockquote>
<p>The format of errorr messages</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal server error"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The Defexa API uses the following error codes:</p>

<table><thead>
<tr>
<th>errorCode</th>
<th>Message</th>
<th>Comment</th>
</tr>
</thead><tbody>
<tr>
<td>000</td>
<td>Internal server error</td>
<td>Error on system side. Please contact the support.</td>
</tr>
<tr>
<td>001</td>
<td>Bad request</td>
<td>Incorrect input data.</td>
</tr>
<tr>
<td>002</td>
<td>Invalid api key</td>
<td>Invalid public api key in request.</td>
</tr>
<tr>
<td>003</td>
<td>Wrong sign</td>
<td>Sign transmitted in request is built incorrectly.</td>
</tr>
<tr>
<td>004</td>
<td>Wallet with this address {address} does not exist</td>
<td>Error occurs when non-existent wallet address transmitted in request</td>
</tr>
<tr>
<td>006</td>
<td>Invoice is in incorrect state for operation</td>
<td></td>
</tr>
<tr>
<td>009</td>
<td>Fee ratio of currency is not in range of min and max fee ratio</td>
<td></td>
</tr>
<tr>
<td>010</td>
<td>Wallet doesn&#39;t belong to user company</td>
<td></td>
</tr>
<tr>
<td>011</td>
<td>Invalid nonce parameter. Nonce value must be greater than previous one</td>
<td></td>
</tr>
<tr>
<td>012</td>
<td>Invalid Payout state</td>
<td></td>
</tr>
<tr>
<td>014</td>
<td>Invalid hot wallet currency</td>
<td></td>
</tr>
<tr>
<td>015</td>
<td>Currency does not match wallet blockchain</td>
<td></td>
</tr>
<tr>
<td>016</td>
<td>IdempotencyKey {idemmpotencyKeyUUID} already exists</td>
<td>In the payout creation request already used uuid for idempotency key is transmitted</td>
</tr>
<tr>
<td>016</td>
<td>Can not create deal. Validation failed</td>
<td>Validation error in payout creation. One or more request parameters were not validated</td>
</tr>
<tr>
<td>028</td>
<td>Can not create invoice payment for invoice 134. Allow only for UNLIMITED invoices</td>
<td>Error occures when in the request &quot;create withdrawal from unlimited invoice&quot; invoice of incorrect type is transmitted</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
